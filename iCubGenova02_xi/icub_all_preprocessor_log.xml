<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE robot PUBLIC "-//YARP//DTD yarprobotinterface 3.0//EN" "http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd">
<robot name="iCubGenova02" build="1" portprefix="icub" xmlns:xi="http://www.w3.org/2001/XInclude">
    <params>
        <group name="PC104">
            <param name="PC104IpAddress">10.0.1.104</param>
            <param name="PC104IpPort">12345</param>
            <param name="PC104TXrate">1</param>
            <param name="PC104RXrate">5</param>
        </group>
    </params>
    <devices>
        <!-- HEAD -->
        <device name="head-eb20-j0_1-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.20</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">mc4plus</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;head-eb20-j0_1&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">2</param>
                    <param name="AxisMap">0 1</param>
                    <param name="AxisName">&quot;neck_pitch&quot; &quot;neck_roll&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044</param>
                    <param name="fullscalePWM">3360 3360</param>
                    <param name="ampsToSensor">1000.0 1000.0</param>
                    <param name="Gearbox_M2J">161.68 161.68</param>
                    <param name="Gearbox_E2J">1 1</param>
                    <param name="useMotorSpeedFbk">1 1</param>
                    <param name="MotorType">&quot;DC&quot; &quot;DC&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMin">-30 -20</param>
                    <param name="hardwareJntPosMax">+22 +20</param>
                    <param name="rotorPosMin">0 0</param>
                    <param name="rotorPosMax">0 0</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.000 1.000 0.000 0.000 -1.000 1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixM2J">0.500 -0.500 0.000 0.000 0.500 0.500 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixE2J">1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">1</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0 1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_mc4plus</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">mc4plus</param>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">pwm pwm</param>
                                <param name="port">CONN:P3 CONN:P4</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">aea aea</param>
                                <param name="port">CONN:P11 CONN:P10</param>
                                <param name="position">atjoint atjoint</param>
                                <param name="resolution">4096 -4096</param>
                                <param name="tolerance">0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">qenc qenc</param>
                                <param name="port">CONN:P3 CONN:P4</param>
                                <param name="position">atmotor atmotor</param>
                                <param name="resolution">2048 2048</param>
                                <param name="tolerance">0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <!-- joint logical number               0           1           -->
            <!-- joint name                         neck-pitch  neck-roll   -->
            <group name="LIMITS">
                <param name="jntPosMin">-30 -20</param>
                <param name="jntPosMax">+22 +20</param>
                <param name="motorOverloadCurrents">5000 5000</param>
                <param name="motorNominalCurrents">1500 1500</param>
                <param name="motorPeakCurrents">3000 3000</param>
                <param name="jntVelMax">1000 1000</param>
                <param name="motorPwmLimit">3360 3360</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0.0 0.0</param>
                <param name="damping">0.0 0.0</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none</param>
                <param name="torqueControl">none none</param>
                <param name="currentPid">none none</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-300 +300</param>
                <param name="pos_kd">-10.0 +10.0</param>
                <param name="pos_ki">-100.0 +100</param>
                <param name="pos_maxOutput">3360 3360</param>
                <param name="pos_maxInt">3360 3360</param>
                <param name="pos_shift">0 0</param>
                <param name="pos_ko">0 0</param>
                <param name="pos_stictionUp">0 0</param>
                <param name="pos_stictionDwn">0 0</param>
                <param name="pos_kff">0 0</param>
            </group>
        </device>
        <device name="head-eb21-j2_5-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.21</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">mc4plus</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;head-eb21-j2_5&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">4</param>
                    <param name="AxisMap">0 1 2 3</param>
                    <param name="AxisName">&quot;neck_yaw&quot; &quot;eyes_tilt&quot; &quot;eyes_vers&quot; &quot;eyes_verg&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">3360 3360 3360 3360</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">100 -141 50 50</param>
                    <param name="Gearbox_E2J">1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1</param>
                    <param name="MotorType">&quot;DC&quot; &quot;DC&quot; &quot;DC&quot; &quot;DC&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMin">-45 -30 -45 0</param>
                    <param name="hardwareJntPosMax">+45 +30 +45 +45</param>
                    <param name="rotorPosMin">0 0 0 0</param>
                    <param name="rotorPosMax">0 0 0 0</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000 -1.000 0.000 0.000 1.000 1.000</param>
                    <param name="matrixM2J">1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.500 0.500 0.000 0.000 -0.500 0.500</param>
                    <param name="matrixE2J">1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">3</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_2">
                        <param name="listofjoints">2 3</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_mc4plus</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">mc4plus</param>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">pwm pwm pwm pwm</param>
                                <param name="port">CONN:P3 CONN:P2 CONN:P5 CONN:P4</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">aea aea none none</param>
                                <param name="port">CONN:P11 CONN:P10 CONN:none CONN:none</param>
                                <param name="position">atjoint atjoint none none</param>
                                <param name="resolution">4096 4096 0 0</param>
                                <param name="tolerance">0.703 0.703 0 0</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">qenc qenc qenc qenc</param>
                                <param name="port">CONN:P3 CONN:P2 CONN:P5 CONN:P4</param>
                                <param name="position">atmotor atmotor atmotor atmotor</param>
                                <param name="resolution">2048 2048 2048 2048</param>
                                <param name="tolerance">0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <!-- joint logical number               0           1           2           3           -->
            <!-- joint name                         neck-yaw    eyes-tilt   eyes-vers   eyes-verg   -->
            <!-- j2 is right-eye, j3 is left-eye -->
            <group name="LIMITS">
                <param name="jntPosMin">-45 -30 -30 0</param>
                <param name="jntPosMax">+45 +30 +30 +45</param>
                <param name="motorOverloadCurrents">2500 2500 3000 3000</param>
                <param name="motorNominalCurrents">1000 700 700 700</param>
                <param name="motorPeakCurrents">2500 2500 2500 2500</param>
                <param name="jntVelMax">1000 1000 1000 1000</param>
                <param name="motorPwmLimit">3360 3360 3360 3360</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none</param>
                <param name="torqueControl">none none none none</param>
                <param name="currentPid">none none none none</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0.0 0.0 0.0 0.0</param>
                <param name="damping">0.0 0.0 0.0 0.0</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">1100.00 -1000 3500 3500</param>
                <param name="pos_kd">0.0 0.0 0.0 0.0</param>
                <param name="pos_ki">0.0 -100 600.0 600.0</param>
                <param name="pos_maxOutput">3360 3360 3360 3360</param>
                <param name="pos_maxInt">3360 3360 3360 3360</param>
                <param name="pos_shift">0 0 0 0</param>
                <param name="pos_ko">0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0</param>
                <param name="pos_kff">0 0 0 0</param>
            </group>
        </device>
        <device name="head-mc_wrapper" type="controlboardwrapper2">
            <paramlist name="networks">
                <elem name="FirstSetOfJoints">0 1 0 1</elem>
                <elem name="SecondSetOfJoints">2 5 0 3</elem>
            </paramlist>
            <param name="period">10</param>
            <param name="name">/icub/head</param>
            <param name="ports">head</param>
            <param name="joints">6</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">head-eb20-j0_1-mc</elem>
                    <elem name="SecondSetOfJoints">head-eb21-j2_5-mc</elem>
                    <elem name="Calibrator">head-calibrator</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!-- FACE -->
        <device name="face-eb22-j0_1-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.22</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">mc4plus</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;face-eb22-j0_1&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">2</param>
                    <param name="AxisMap">0 1</param>
                    <param name="AxisName">&quot;jaw&quot; &quot;eyelids&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044</param>
                    <param name="fullscalePWM">3360 3360</param>
                    <param name="ampsToSensor">1000.0 1000.0</param>
                    <param name="Gearbox_M2J">1 -272</param>
                    <param name="Gearbox_E2J">1 2</param>
                    <param name="useMotorSpeedFbk">1 1</param>
                    <param name="MotorType">&quot;DC&quot; &quot;DC&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMin">+0 -25</param>
                    <param name="hardwareJntPosMax">+22 +40</param>
                    <param name="rotorPosMin">0 0</param>
                    <param name="rotorPosMax">0 0</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixM2J">1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixE2J">1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">2</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_mc4plus</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">mc4plus</param>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">pwm pwm</param>
                                <param name="port">CONN:P3 CONN:P2</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">aea aea</param>
                                <param name="port">CONN:P11 CONN:P10</param>
                                <param name="position">atjoint atjoint</param>
                                <param name="resolution">4096 4096</param>
                                <param name="tolerance">0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">none qenc</param>
                                <param name="port">none CONN:P2</param>
                                <param name="position">none atmotor</param>
                                <param name="resolution">0 40</param>
                                <param name="tolerance">0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <param name="jntPosMin">+0 -25</param>
                <param name="jntPosMax">+22 +40</param>
                <param name="motorOverloadCurrents">2000 2000</param>
                <param name="motorNominalCurrents">700 700</param>
                <param name="motorPeakCurrents">1000 1000</param>
                <param name="jntVelMax">1000 1000</param>
                <param name="motorPwmLimit">3360 3300</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none</param>
                <param name="torqueControl">none none</param>
                <param name="currentPid">none none</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0.0 0.0</param>
                <param name="damping">0.0 0.0</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-400.00 400.00</param>
                <param name="pos_kd">0.0 0.0</param>
                <param name="pos_ki">0.0 0.0</param>
                <param name="pos_maxOutput">3360 3360</param>
                <param name="pos_maxInt">3360 3360</param>
                <param name="pos_shift">0 0</param>
                <param name="pos_ko">0 0</param>
                <param name="pos_stictionUp">0 0</param>
                <param name="pos_stictionDwn">0 0</param>
                <param name="pos_kff">0 0</param>
            </group>
        </device>
        <device name="face-eb23-j2_5-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.23</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">mc4plus</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;face-eb23-j2_5&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">4</param>
                    <param name="AxisMap">0 1 2 3</param>
                    <param name="AxisName">&quot;lip-right&quot; &quot;lip-high&quot; &quot;lip-left&quot; &quot;lip-bottom&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">3360 3360 3360 3360</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">-66 66 66 -66</param>
                    <param name="Gearbox_E2J">1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1</param>
                    <param name="MotorType">&quot;DC&quot; &quot;DC&quot; &quot;DC&quot; &quot;DC&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMin">-35 -28 -35 0</param>
                    <param name="hardwareJntPosMax">+35 +28 +35 +28</param>
                    <param name="rotorPosMin">0 0 0 0</param>
                    <param name="rotorPosMax">0 0 0 0</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixM2J">1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixE2J">1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">4</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_2">
                        <param name="listofjoints">2</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_3">
                        <param name="listofjoints">3</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_mc4plus</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">mc4plus</param>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">pwm pwm pwm pwm</param>
                                <param name="port">CONN:P3 CONN:P2 CONN:P4 CONN:P5</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">qenc qenc qenc qenc</param>
                                <param name="port">CONN:P3 CONN:P2 CONN:P4 CONN:P5</param>
                                <param name="position">atmotor atmotor atmotor atmotor</param>
                                <param name="resolution">1600 1600 1600 1600</param>
                                <param name="tolerance">0 0 0 0</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">none none none none</param>
                                <param name="port">none none none none</param>
                                <param name="position">none none none none</param>
                                <param name="resolution">none none none none</param>
                                <param name="tolerance">0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <!-- joint number in sub-part           0           1           2           3            -->
            <!-- joint name                         lip-right   lip-high    lip-left   lip-bottom   -->
            <group name="LIMITS">
                <param name="jntPosMin">-35 -28 -35 0</param>
                <param name="jntPosMax">+35 +28 +35 +28</param>
                <param name="motorOverloadCurrents">2000 2000 2000 2000</param>
                <param name="motorNominalCurrents">700 700 700 700</param>
                <param name="motorPeakCurrents">1000 1000 1000 1000</param>
                <param name="jntVelMax">1000 1000 1000 1000</param>
                <param name="motorPwmLimit">3360 3360 3360 3360</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none</param>
                <param name="torqueControl">none none none none</param>
                <param name="currentPid">none none none none</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0.0 0.0 0.0 0.0</param>
                <param name="damping">0.0 0.0 0.0 0.0</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-3500.00 2000.00 3500.00 -4500.00</param>
                <param name="pos_kd">0.0 0.0 0.0 0.0</param>
                <param name="pos_ki">0.0 300.0 0.0 0.0</param>
                <param name="pos_maxOutput">3360 3360 3360 3360</param>
                <param name="pos_maxInt">3360 3360 3360 3360</param>
                <param name="pos_shift">0 0 0 0</param>
                <param name="pos_ko">0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0</param>
                <param name="pos_kff">0 0 0 0</param>
            </group>
        </device>
        <device name="face-mc_wrapper" type="controlboardwrapper2">
            <paramlist name="networks">
                <elem name="FirstSetOfJoints">0 1 0 1</elem>
                <elem name="SecondSetOfJoints">2 5 0 3</elem>
            </paramlist>
            <param name="period">10</param>
            <param name="name">/icub/face</param>
            <param name="ports">face</param>
            <param name="joints">6</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">face-eb22-j0_1-mc</elem>
                    <elem name="SecondSetOfJoints">face-eb23-j2_5-mc</elem>
                    <elem name="Calibrator">face-calibrator</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!-- TORSO -->
        <device name="torso-eb5-j0_2-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.5</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;torso-eb5-j0_2&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">3</param>
                    <param name="AxisMap">2 0 1</param>
                    <param name="AxisName">&quot;torso_yaw&quot; &quot;torso_roll&quot; &quot;torso_pitch&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044</param>
                    <param name="fullscalePWM">32000 32000 32000</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">-100.00 -100.00 -100.00</param>
                    <param name="Gearbox_E2J">1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1</param>
                    <param name="MotorType">&quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMax">50 30 70</param>
                    <param name="hardwareJntPosMin">-50 -30 -20</param>
                    <param name="rotorPosMin">0 0 0</param>
                    <param name="rotorPosMax">0 0 0</param>
                </group>
                <group name="2FOC">
                    <param name="HasHallSensor">1 1 1</param>
                    <param name="HasTempSensor">0 0 0</param>
                    <param name="HasRotorEncoder">1 1 1</param>
                    <param name="HasRotorEncoderIndex">0 0 0</param>
                    <param name="HasSpeedEncoder">0 0 0</param>
                    <param name="RotorIndexOffset">0 0 0</param>
                    <param name="MotorPoles">8 8 8</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">0.50 -0.50 0.00 0.00 0.50 0.50 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <!-- alfa = 22.0f/80.0f = 0.275; 
            2*alfa = 0.55        -->
                    <param name="matrixM2J">0.500 0.500 0.000 0.000 -0.500 0.500 0.000 0.000 0.275 0.275 0.550 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixE2J">1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">1</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0 1 2</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_foc</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">foc</param>
                            <group name="PROTOCOL">
                                <param name="major">1</param>
                                <param name="minor">6</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0</param>
                                <param name="minor">0</param>
                                <param name="build">0</param>
                            </group>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">eomc_act_foc foc foc</param>
                                <param name="port">CAN1:3:0 CAN1:4:0 CAN1:1:0</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">eomc_enc_aea aea aea</param>
                                <param name="port">CONN:P6 CONN:P7 CONN:P8</param>
                                <param name="position">eomc_pos_atjoint atjoint atjoint</param>
                                <param name="resolution">4096 4096 4096</param>
                                <param name="tolerance">0.703 0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">roie roie roie</param>
                                <param name="port">CAN1:3:0 CAN1:4:0 CAN1:1:0</param>
                                <param name="position">atmotor atmotor atmotor</param>
                                <param name="resolution">-14400 -14400 -14400</param>
                                <param name="tolerance">0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <param name="jntPosMax">50 30 70</param>
                <param name="jntPosMin">-50 -30 -20</param>
                <param name="motorNominalCurrents">4000 4000 4000</param>
                <param name="motorPeakCurrents">5000 5000 5000</param>
                <param name="motorOverloadCurrents">15000 15000 15000</param>
                <param name="jntVelMax">1000 1000 1000</param>
                <param name="motorPwmLimit">10000 10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT</param>
                <param name="currentPid">2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-711.11 -1066.66 -1066.66</param>
                <param name="pos_kd">0.00 0.00 0.00</param>
                <param name="pos_ki">-7111.09 -10666.64 -14222.18</param>
                <param name="pos_maxOutput">8000 8000 16000</param>
                <param name="pos_maxInt">750 1000 1000</param>
                <param name="pos_shift">0 0 0</param>
                <param name="pos_ko">0 0 0</param>
                <param name="pos_stictionUp">0 0 0</param>
                <param name="pos_stictionDwn">0 0 0</param>
                <param name="pos_kff">0 0 0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">-450 -400 -400</param>
                <param name="trq_kd">0 0 0</param>
                <param name="trq_ki">0 0 0</param>
                <param name="trq_maxOutput">8000 8000 8000</param>
                <param name="trq_maxInt">500 500 500</param>
                <param name="trq_shift">0 0 0</param>
                <param name="trq_ko">0 0 0</param>
                <param name="trq_stictionUp">0 0 0</param>
                <param name="trq_stictionDwn">0 0 0</param>
                <param name="trq_kff">1 1 1</param>
                <param name="trq_kbemf">0 0 0</param>
                <param name="trq_filterType">0 0 0</param>
                <param name="trq_ktau">0 0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0 0 0</param>
                <param name="damping">0 0 0</param>
            </group>
            <group name="2FOC_CUR_CONTROL">
                <param name="controlLaw">limitscurrent</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="cur_kp">8 8 8</param>
                <param name="cur_kd">0 0 0</param>
                <param name="cur_ki">2 2 2</param>
                <param name="cur_shift">10 10 10</param>
                <param name="cur_maxOutput">32000 32000 32000</param>
                <param name="cur_maxInt">32000 32000 32000</param>
                <param name="cur_ko">0 0 0</param>
                <param name="cur_stictionUp">0 0 0</param>
                <param name="cur_stictionDwn">0 0 0</param>
                <param name="cur_kff">0 0 0</param>
            </group>
        </device>
        <device name="torso-mc_wrapper" type="controlboardwrapper2">
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 2 0 2</elem>
            </paramlist>
            <param name="period">10</param>
            <param name="name">/icub/torso</param>
            <param name="ports">torso</param>
            <param name="joints">3</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">torso-eb5-j0_2-mc</elem>
                    <elem name="Calibrator">torso-calibrator</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!-- LEFT ARM -->
        <device name="left_arm-eb1-j0_3-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.1</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_arm-eb1-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">4</param>
                    <param name="AxisMap">0 1 2 3</param>
                    <param name="AxisName">&quot;l_shoulder_pitch&quot; &quot;l_shoulder_roll&quot; &quot;l_shoulder_yaw&quot; &quot;l_elbow&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">32000 32000 32000 32000</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">100.00 100.00 100.00 100.00</param>
                    <param name="Gearbox_E2J">1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1</param>
                    <param name="MotorType">&quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <!--                                     0                1              2              3            -->
                    <param name="hardwareJntPosMax">8 160 80 106</param>
                    <param name="hardwareJntPosMin">-95.5 9 -32 15</param>
                    <param name="rotorPosMin">0 0 0 0</param>
                    <param name="rotorPosMax">0 0 0 0</param>
                </group>
                <group name="2FOC">
                    <param name="HasHallSensor">1 1 1 1</param>
                    <param name="HasTempSensor">0 0 0 0</param>
                    <param name="HasRotorEncoder">1 1 1 1</param>
                    <param name="HasRotorEncoderIndex">0 0 0 0</param>
                    <param name="HasSpeedEncoder">0 0 0 0</param>
                    <param name="RotorIndexOffset">0 0 0 0</param>
                    <param name="MotorPoles">8 8 8 8</param>
                </group>
                <group name="COUPLINGS">
                    <!-- 1.625 = 1/alfa = 65/40 -->
                    <param name="matrixJ2M">1.00 0.00 0.00 0.00 -1.625 1.625 0.00 0.00 0.00 0.00 1.625 0.00 0.00 0.00 0.00 1.00</param>
                    <!-- 0.615 = alfa = 40/65 -->
                    <param name="matrixM2J">1.000 0.000 0.000 0.000 1.000 0.615 0.000 0.000 0.000 -0.615 0.615 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixE2J">1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">2</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0 1 2</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">3</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_foc</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">foc</param>
                            <group name="PROTOCOL">
                                <param name="major">1</param>
                                <param name="minor">6</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0</param>
                                <param name="minor">0</param>
                                <param name="build">0</param>
                            </group>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">eomc_act_foc foc foc foc</param>
                                <param name="port">CAN1:1:0 CAN1:2:0 CAN1:3:0 CAN1:4:0</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">eomc_enc_aea aea aea aea</param>
                                <param name="port">CONN:P6 CONN:P7 CONN:P8 CONN:P9</param>
                                <param name="position">eomc_pos_atjoint atjoint atjoint atjoint</param>
                                <param name="resolution">-4096 -4096 4096 -4096</param>
                                <param name="tolerance">0.703 0.703 0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">roie roie roie roie</param>
                                <param name="port">CAN1:1:0 CAN1:2:0 CAN1:3:0 CAN1:4:0</param>
                                <param name="position">atmotor atmotor atmotor atmotor</param>
                                <param name="resolution">-14400 -14400 -14400 -14400</param>
                                <param name="tolerance">0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <!--                                     0                1              2              3            -->
                <param name="jntPosMax">8 160 80 106</param>
                <param name="jntPosMin">-95.5 9 -32 15</param>
                <param name="jntVelMax">1000 1000 1000 1000</param>
                <param name="motorNominalCurrents">4000 4000 4000 4000</param>
                <param name="motorPeakCurrents">5000 5000 5000 5000</param>
                <param name="motorOverloadCurrents">15000 15000 15000 15000</param>
                <param name="motorPwmLimit">10000 10000 10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT</param>
                <param name="currentPid">2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0.1 0.1 0.1 0.1</param>
                <param name="damping">0.05 0.05 0.05 0.05</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">711.11 1066.66 711.11 1066.66</param>
                <param name="pos_kd">0.00 0.00 0.00 0.00</param>
                <param name="pos_ki">7111.09 10666.64 7111.09 10666.64</param>
                <param name="pos_maxOutput">8000 8000 8000 8000</param>
                <param name="pos_maxInt">200 200 200 1000</param>
                <param name="pos_shift">0 0 0 0</param>
                <param name="pos_ko">0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0</param>
                <param name="pos_kff">0 0 0 0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">200 200 250 300</param>
                <param name="trq_kd">0 0 0 0</param>
                <param name="trq_ki">0 0 0 0</param>
                <param name="trq_maxOutput">8000 8000 8000 8000</param>
                <param name="trq_maxInt">500 500 500 500</param>
                <param name="trq_shift">0 0 0 0</param>
                <param name="trq_ko">0 0 0 0</param>
                <param name="trq_stictionUp">0 0 0 0</param>
                <param name="trq_stictionDwn">0 0 0 0</param>
                <param name="trq_kff">1 1 1 1</param>
                <param name="trq_kbemf">0 0 0 0</param>
                <param name="trq_filterType">0 0 0 0</param>
                <param name="trq_ktau">0 0 0 0</param>
            </group>
            <group name="2FOC_CUR_CONTROL">
                <param name="controlLaw">limitscurrent</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="cur_kp">8 8 8 8</param>
                <param name="cur_kd">0 0 0 0</param>
                <param name="cur_ki">2 2 2 2</param>
                <param name="cur_shift">10 10 10 10</param>
                <param name="cur_maxOutput">32000 32000 32000 32000</param>
                <param name="cur_maxInt">32000 32000 32000 32000</param>
                <param name="cur_ko">0 0 0 0</param>
                <param name="cur_stictionUp">0 0 0 0</param>
                <param name="cur_stictionDwn">0 0 0 0</param>
                <param name="cur_kff">0 0 0 0</param>
            </group>
        </device>
        <device name="left_arm-eb2-j4_15-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.2</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_arm-eb2-j4_15&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">12</param>
                    <param name="AxisMap">0 1 2 3 4 5 6 7 8 9 10 11</param>
                    <param name="AxisName">&quot;l_wrist_prosup&quot; &quot;l_wrist_pitch&quot; &quot;l_wrist_yaw&quot; &quot;l_hand_finger&quot; &quot;l_thumb_oppose&quot; &quot;l_thumb_proximal&quot; &quot;l_thumb_distal&quot; &quot;l_index_proximal&quot; &quot;l_index_distal&quot; &quot;l_middle_proximal&quot; &quot;l_middle_distal&quot; &quot;l_pinky&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">1 1 1 1 1 1 1 1 1 1 1 1</param>
                    <param name="Gearbox_E2J">1 1 1 1 1 1 1 1 1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1 1 1 1 1 1 1 1 1</param>
                    <param name="MotorType">&quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMax">60 25 25 60 90 90 180 90 180 90 180 270</param>
                    <param name="hardwareJntPosMin">-60 -80 -20 0 10 0 0 0 0 0 0 0</param>
                    <param name="rotorPosMin">0 0 0 0 0 -10 16 -1.65 -16 -1.65 16 0</param>
                    <param name="rotorPosMax">0 0 0 0 0 33 -36 33 38 33 -38 -77</param>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_mc4</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">eobrd_ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">mc4 mais</param>
                            <group name="PROTOCOL">
                                <param name="major">1 1</param>
                                <param name="minor">6 0</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0 0</param>
                                <param name="minor">0 0</param>
                                <param name="build">0 0</param>
                            </group>
                        </group>
                        <group name="MC4">
                            <group name="SHIFTS">
                                <param name="velocity">8</param>
                                <param name="estimJointVelocity">5</param>
                                <param name="estimJointAcceleration">5</param>
                                <param name="estimMotorVelocity">1</param>
                                <param name="estimMotorAcceleration">1</param>
                            </group>
                            <group name="BROADCASTPOLICY">
                                <param name="enable">position status print pidvalues</param>
                            </group>
                        </group>
                        <group name="MAIS">
                            <param name="location">CAN1:14</param>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4</param>
                                <param name="port">CAN1:3:0 CAN1:3:1 CAN1:4:0 CAN1:4:1 CAN1:5:0 CAN1:5:1 CAN1:6:0 CAN1:6:1 CAN1:7:0 CAN1:7:1 CAN1:8:0 CAN1:8:1</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">qenc aea aea absanalog absanalog mais mais mais mais mais mais mais</param>
                                <param name="port">CONN:none CONN:none CONN:none CONN:none CONN:none MAIS:thumbproximal MAIS:thumbdistal MAIS:indexproximal MAIS:indexdistal MAIS:mediumproximal MAIS:mediumdistal MAIS:littlefingers</param>
                                <param name="position">atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint</param>
                                <param name="resolution">254440 -4096 4096 65535 65535 65535 65535 65535 65535 65535 65535 65535</param>
                                <param name="tolerance">0 0.703 0.703 0 0 0 0 0 0 0 0 0</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">none none none none none none none none none none none none</param>
                                <param name="port">CONN:none CONN:none CONN:none CONN:none CONN:none CONN:none CONN:none CONN:non CONN:nonee CONN:none CONN:none CONN:none</param>
                                <param name="position">none none none none none none none none none none none none</param>
                                <param name="resolution">1 1 1 1 1 1 1 1 1 1 1 1</param>
                                <param name="tolerance">0 0 0 0 0 0 0 0 0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <param name="jntPosMax">60 25 25 60 90 90 180 90 180 90 180 270</param>
                <param name="jntPosMin">-60 -80 -20 0 10 0 0 0 0 0 0 0</param>
                <param name="motorOverloadCurrents">500 800 800 485 485 485 485 485 485 485 485 485</param>
                <param name="motorNominalCurrents">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="motorPeakCurrents">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="jntVelMax">1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000</param>
                <param name="motorPwmLimit">10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100 100 100 100 100 100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none none none none none none none none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT none none none none none none none none none none none</param>
                <param name="currentPid">none none none none none none none none none none none none</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-200 1000 -1000 -200 -500 -8000 -8000 -8000 8000 -8000 -8000 1200</param>
                <param name="pos_kd">-1000 10000 -10000 -200 -32000 -32000 -32000 -32000 32000 -32000 -32000 12500</param>
                <param name="pos_ki">-1 1 -1 -1 -1 -5 -5 -5 5 -5 -5 1</param>
                <param name="pos_maxOutput">1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333</param>
                <param name="pos_maxInt">1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333</param>
                <param name="pos_shift">6 7 7 4 6 8 8 8 8 8 8 6</param>
                <param name="pos_ko">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="pos_kff">0 0 0 0 0 0 0 0 0 0 0 0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">-80 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_kd">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_ki">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_maxOutput">1333 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_maxInt">1333 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_shift">10 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_ko">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_stictionUp">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_stictionDwn">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_kff">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_kbemf">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_filterType">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_ktau">0 0 0 0 0 0 0 0 0 0 0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="damping">0 0 0 0 0 0 0 0 0 0 0 0</param>
            </group>
        </device>
        <device name="left_arm-mc_wrapper" type="controlboardwrapper2">
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 15 0 11</elem>
            </paramlist>
            <param name="period">10</param>
            <param name="name">/icub/left_arm</param>
            <param name="ports">left_arm</param>
            <param name="joints">16</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">left_arm-eb1-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">left_arm-eb2-j4_15-mc</elem>
                    <elem name="Calibrator">left_arm-calibrator</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!-- RIGHT ARM -->
        <device name="right_arm-eb3-j0_3-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.3</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_arm-eb3-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">4</param>
                    <param name="AxisMap">0 1 2 3</param>
                    <param name="AxisName">&quot;r_shoulder_pitch&quot; &quot;r_shoulder_roll&quot; &quot;r_shoulder_yaw&quot; &quot;r_elbow&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">32000 32000 32000 32000</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">-100.00 -100.00 -100.00 -100.00</param>
                    <param name="Gearbox_E2J">1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1</param>
                    <param name="MotorType">&quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMax">8 160 80 106</param>
                    <param name="hardwareJntPosMin">-95.5 9 -32 15</param>
                    <param name="rotorPosMin">0 0 0 0</param>
                    <param name="rotorPosMax">0 0 0 0</param>
                </group>
                <group name="2FOC">
                    <param name="HasHallSensor">1 1 1 1</param>
                    <param name="HasTempSensor">0 0 0 0</param>
                    <param name="HasRotorEncoder">1 1 1 1</param>
                    <param name="HasRotorEncoderIndex">0 0 0 0</param>
                    <param name="HasSpeedEncoder">0 0 0 0</param>
                    <param name="RotorIndexOffset">0 0 0 0</param>
                    <param name="MotorPoles">8 8 8 8</param>
                </group>
                <group name="COUPLINGS">
                    <!-- 1.625 = 1/alfa = 65/40 -->
                    <param name="matrixJ2M">1.00 0.00 0.00 0.00 -1.625 1.625 0.00 0.00 0.00 0.00 1.625 0.00 0.00 0.00 0.00 1.00</param>
                    <!-- 0.615 = alfa = 40/65 -->
                    <param name="matrixM2J">1.000 0.000 0.000 0.000 1.000 0.615 0.000 0.000 0.000 -0.615 0.615 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixE2J">1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">2</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0 1 2</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">3</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_foc</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">foc</param>
                            <group name="PROTOCOL">
                                <param name="major">1</param>
                                <param name="minor">6</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0</param>
                                <param name="minor">0</param>
                                <param name="build">0</param>
                            </group>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">eomc_act_foc foc foc foc</param>
                                <param name="port">CAN1:1:0 CAN1:2:0 CAN1:3:0 CAN1:4:0</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">eomc_enc_aea aea aea aea</param>
                                <param name="port">CONN:P6 CONN:P7 CONN:P8 CONN:P9</param>
                                <param name="position">eomc_pos_atjoint atjoint atjoint atjoint</param>
                                <param name="resolution">4096 4096 -4096 4096</param>
                                <param name="tolerance">0.703 0.703 0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">roie roie roie roie</param>
                                <param name="port">CAN1:1:0 CAN1:2:0 CAN1:3:0 CAN1:4:0</param>
                                <param name="position">atmotor atmotor atmotor atmotor</param>
                                <param name="resolution">-14400 -14400 -14400 -14400</param>
                                <param name="tolerance">0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <!--                                      0            1              2             3            -->
                <param name="jntPosMax">8 160 80 106</param>
                <param name="jntPosMin">-95.5 9 -32 15</param>
                <param name="jntVelMax">4000 4000 4000 4000</param>
                <param name="motorNominalCurrents">5000 5000 5000 5000</param>
                <param name="motorPeakCurrents">15000 15000 15000 15000</param>
                <param name="motorOverloadCurrents">1000 1000 1000 1000</param>
                <param name="motorPwmLimit">10000 10000 10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT</param>
                <param name="currentPid">2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-711.11 -1066.66 -711.11 -1066.66</param>
                <param name="pos_kd">0.00 0.00 0.00 0.00</param>
                <param name="pos_ki">-7111.09 -10666.64 -7111.09 -10666.64</param>
                <param name="pos_maxOutput">8000 8000 8000 8000</param>
                <param name="pos_maxInt">200 200 200 1000</param>
                <param name="pos_shift">0 0 0 0</param>
                <param name="pos_ko">0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0</param>
                <param name="pos_kff">0 0 0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0.1 0.1 0.1 0.1</param>
                <param name="damping">0.05 0.05 0.05 0.05</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">-50 -200 -250 -300</param>
                <param name="trq_kd">0 0 0 0</param>
                <param name="trq_ki">0 0 0 0</param>
                <param name="trq_maxOutput">8000 8000 8000 8000</param>
                <param name="trq_maxInt">500 500 500 500</param>
                <param name="trq_shift">0 0 0 0</param>
                <param name="trq_ko">0 0 0 0</param>
                <param name="trq_stictionUp">0 0 0 0</param>
                <param name="trq_stictionDwn">0 0 0 0</param>
                <param name="trq_kff">1 1 1 1</param>
                <param name="trq_kbemf">0 0 0 0</param>
                <param name="trq_filterType">0 0 0 0</param>
                <param name="trq_ktau">0 0 0 0</param>
            </group>
            <group name="2FOC_CUR_CONTROL">
                <param name="controlLaw">limitscurrent</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="cur_kp">8 8 8 8</param>
                <param name="cur_kd">0 0 0 0</param>
                <param name="cur_ki">2 2 2 2</param>
                <param name="cur_shift">10 10 10 10</param>
                <param name="cur_maxOutput">32000 32000 32000 32000</param>
                <param name="cur_maxInt">32000 32000 32000 32000</param>
                <param name="cur_ko">0 0 0 0</param>
                <param name="cur_stictionUp">0 0 0 0</param>
                <param name="cur_stictionDwn">0 0 0 0</param>
                <param name="cur_kff">0 0 0 0</param>
            </group>
        </device>
        <device name="right_arm-eb4-j4_15-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.4</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_arm-eb4-j4_15&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">12</param>
                    <param name="AxisMap">0 1 2 3 4 5 6 7 8 9 10 11</param>
                    <param name="AxisName">&quot;r_wrist_prosup&quot; &quot;r_wrist_pitch&quot; &quot;r_wrist_yaw&quot; &quot;r_hand_finger&quot; &quot;r_thumb_oppose&quot; &quot;r_thumb_proximal&quot; &quot;r_thumb_distal&quot; &quot;r_index_proximal&quot; &quot;r_index_distal&quot; &quot;r_middle_proximal&quot; &quot;r_middle_distal&quot; &quot;r_pinky&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">1 1 1 1 1 1 1 1 1 1 1 1</param>
                    <param name="Gearbox_E2J">1 1 1 1 1 1 1 1 1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1 1 1 1 1 1 1 1 1</param>
                    <param name="MotorType">&quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot; &quot;DC_FH&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <!--                                    0             1             2             3             4             5             6             7             8             9             10            11-->
                    <param name="hardwareJntPosMax">60 25 25 60 90 90 180 90 180 90 180 270</param>
                    <param name="hardwareJntPosMin">-60 -80 -20 0 10 0 0 0 0 0 0 0</param>
                    <param name="rotorPosMin">0 0 0 0 0 -10 -16 -1.65 16 -1.65 -16 0</param>
                    <param name="rotorPosMax">0 0 0 0 0 33 36 33 -38 33 38 77</param>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_mc4</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">eobrd_ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">mc4 mais</param>
                            <group name="PROTOCOL">
                                <param name="major">1 1</param>
                                <param name="minor">6 0</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0 0</param>
                                <param name="minor">0 0</param>
                                <param name="build">0 0</param>
                            </group>
                        </group>
                        <group name="MC4">
                            <group name="SHIFTS">
                                <param name="velocity">8</param>
                                <param name="estimJointVelocity">5</param>
                                <param name="estimJointAcceleration">5</param>
                                <param name="estimMotorVelocity">1</param>
                                <param name="estimMotorAcceleration">1</param>
                            </group>
                            <group name="BROADCASTPOLICY">
                                <param name="enable">position status print pidvalues</param>
                            </group>
                        </group>
                        <group name="MAIS">
                            <param name="location">CAN1:14</param>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4 mc4</param>
                                <param name="port">CAN1:3:0 CAN1:3:1 CAN1:4:0 CAN1:4:1 CAN1:5:0 CAN1:5:1 CAN1:6:0 CAN1:6:1 CAN1:7:0 CAN1:7:1 CAN1:8:0 CAN1:8:1</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">qenc aea aea absanalog absanalog mais mais mais mais mais mais mais</param>
                                <param name="port">CONN:none CONN:none CONN:none CONN:none CONN:none MAIS:thumbproximal MAIS:thumbdistal MAIS:indexproximal MAIS:indexdistal MAIS:mediumproximal MAIS:mediumdistal MAIS:littlefingers</param>
                                <param name="position">atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint atjoint</param>
                                <param name="resolution">-254440 4096 -4096 65535 65535 65535 65535 65535 65535 65535 65535 65535</param>
                                <param name="tolerance">0 0.703 0.703 0 0 0 0 0 0 0 0 0</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">none none none none none none none none none none none none</param>
                                <param name="port">CONN:none CONN:none CONN:none CONN:none CONN:none CONN:none CONN:none CONN:non CONN:nonee CONN:none CONN:none CONN:none</param>
                                <param name="position">none none none none none none none none none none none none</param>
                                <param name="resolution">1 1 1 1 1 1 1 1 1 1 1 1</param>
                                <param name="tolerance">0 0 0 0 0 0 0 0 0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <!--                                    0             1             2             3             4             5             6             7             8             9             10            11-->
                <param name="jntPosMax">60 25 25 60 90 90 180 90 180 90 180 270</param>
                <param name="jntPosMin">-60 -80 -20 0 10 0 0 0 0 0 0 0</param>
                <param name="motorOverloadCurrents">500 800 800 485 485 485 485 485 485 485 485 485</param>
                <param name="motorNominalCurrents">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="motorPeakCurrents">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="jntVelMax">1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000</param>
                <param name="motorPwmLimit">10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100 100 100 100 100 100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none none none none none none none none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT none none none none none none none none none none none</param>
                <param name="currentPid">none none none none none none none none none none none none</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-200 1000 -1000 200 -500 -8000 8000 -8000 -8000 -8000 8000 -1200</param>
                <param name="pos_kd">-1000 10000 -10000 200 -32000 -32000 32000 -32000 -32000 -32000 32000 -12500</param>
                <param name="pos_ki">-1 1 -1 1 -1 -5 5 -5 -5 -5 5 -1</param>
                <param name="pos_maxOutput">1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333</param>
                <param name="pos_maxInt">1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333 1333</param>
                <param name="pos_shift">6 7 7 4 6 8 8 8 8 8 8 6</param>
                <param name="pos_ko">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="pos_kff">0 0 0 0 0 0 0 0 0 0 0 0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">80 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_kd">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_ki">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_maxOutput">1333 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_maxInt">1333 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_shift">10 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_ko">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_stictionUp">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_stictionDwn">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_kff">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_kbemf">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_filterType">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="trq_ktau">0 0 0 0 0 0 0 0 0 0 0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="damping">0 0 0 0 0 0 0 0 0 0 0 0</param>
            </group>
        </device>
        <device name="right_arm-mc_wrapper" type="controlboardwrapper2">
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 15 0 11</elem>
            </paramlist>
            <param name="period">10</param>
            <param name="name">/icub/right_arm</param>
            <param name="ports">right_arm</param>
            <param name="joints">16</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding right_lower_arm-jx_y-mc.xml file -->
                    <elem name="FirstSetOfJoints">right_arm-eb3-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">right_arm-eb4-j4_15-mc</elem>
                    <elem name="Calibrator">right_arm-calibrator</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!-- LEFT LEG -->
        <device name="left_leg-eb6-j0_3-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.6</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_leg-eb6-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">4</param>
                    <param name="AxisMap">0 1 2 3</param>
                    <param name="AxisName">&quot;l_hip_pitch&quot; &quot;l_hip_roll&quot; &quot;l_hip_yaw&quot; &quot;l_knee&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">32000 32000 32000 32000</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">-100.0 100.0 -100.0 -100.0</param>
                    <param name="Gearbox_E2J">1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1</param>
                    <param name="MotorType">&quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMax">85 85 70 0</param>
                    <param name="hardwareJntPosMin">-30 -12 -70 -100</param>
                    <param name="rotorPosMin">0 0 0 0</param>
                    <param name="rotorPosMax">0 0 0 0</param>
                </group>
                <group name="2FOC">
                    <param name="HasHallSensor">1 1 1 1</param>
                    <param name="HasTempSensor">0 0 0 0</param>
                    <param name="HasRotorEncoder">1 1 1 1</param>
                    <param name="HasRotorEncoderIndex">0 0 0 0</param>
                    <param name="HasSpeedEncoder">0 0 0 0</param>
                    <param name="RotorIndexOffset">0 0 0 0</param>
                    <param name="MotorPoles">8 8 8 8</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <param name="matrixM2J">1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 1.000</param>
                    <param name="matrixE2J">1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">4</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_2">
                        <param name="listofjoints">2</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_3">
                        <param name="listofjoints">3</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_foc</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">foc</param>
                            <group name="PROTOCOL">
                                <param name="major">1</param>
                                <param name="minor">6</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0</param>
                                <param name="minor">0</param>
                                <param name="build">0</param>
                            </group>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">eomc_act_foc foc foc foc</param>
                                <param name="port">CAN1:3:0 CAN1:4:0 CAN1:1:0 CAN1:2:0</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">eomc_enc_aea aea aea aea</param>
                                <param name="port">CONN:P6 CONN:P7 CONN:P8 CONN:P9</param>
                                <param name="position">eomc_pos_atjoint atjoint atjoint atjoint</param>
                                <param name="resolution">4096 4096 4096 -4096</param>
                                <param name="tolerance">0.703 0.703 0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">roie roie roie roie</param>
                                <param name="port">CAN1:3:0 CAN1:4:0 CAN1:1:0 CAN1:2:0</param>
                                <param name="position">eomc_pos_atmotor atmotor atmotor atmotor</param>
                                <param name="resolution">-14400 -14400 -14400 -14400</param>
                                <param name="tolerance">0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <param name="jntPosMax">85 85 70 0</param>
                <param name="jntPosMin">-30 -12 -70 -100</param>
                <param name="jntVelMax">1000 1000 1000 1000</param>
                <param name="motorNominalCurrents">5000 5000 5000 5000</param>
                <param name="motorPeakCurrents">6000 10000 6000 10000</param>
                <param name="motorOverloadCurrents">15000 15000 15000 15000</param>
                <param name="motorPwmLimit">10000 10000 10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT</param>
                <param name="currentPid">2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-1066.66 2066.66 -711.11 -1066.66</param>
                <param name="pos_kd">0.00 0.00 0.00 0.00</param>
                <param name="pos_ki">-10666.64 14222.18 -7111.09 -1066.64</param>
                <param name="pos_maxOutput">8000 8000 8000 8000</param>
                <param name="pos_maxInt">750 750 750 1000</param>
                <param name="pos_shift">0 0 0 0</param>
                <param name="pos_ko">0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0</param>
                <param name="pos_kff">0 0 0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0 0 0 0</param>
                <param name="damping">0 0 0 0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">-200 200 0 -200</param>
                <param name="trq_kd">0 0 0 0</param>
                <param name="trq_ki">0 0 0 0</param>
                <param name="trq_maxOutput">8000 8000 8000 8000</param>
                <param name="trq_maxInt">500 500 500 500</param>
                <param name="trq_shift">0 0 0 0</param>
                <param name="trq_ko">0 0 0 0</param>
                <param name="trq_stictionUp">0 0 0 0</param>
                <param name="trq_stictionDwn">0 0 0 0</param>
                <param name="trq_kff">1 1 1 1</param>
                <param name="trq_kbemf">0 0 0 0</param>
                <param name="trq_filterType">0 0 0 0</param>
                <param name="trq_ktau">0 0 0 0</param>
            </group>
            <group name="2FOC_CUR_CONTROL">
                <param name="controlLaw">limitscurrent</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="cur_kp">8 8 8 8</param>
                <param name="cur_kd">0 0 0 0</param>
                <param name="cur_ki">2 2 2 2</param>
                <param name="cur_shift">10 10 10 10</param>
                <param name="cur_maxOutput">32000 32000 32000 32000</param>
                <param name="cur_maxInt">32000 32000 32000 32000</param>
                <param name="cur_ko">0 0 0 0</param>
                <param name="cur_stictionUp">0 0 0 0</param>
                <param name="cur_stictionDwn">0 0 0 0</param>
                <param name="cur_kff">0 0 0 0</param>
            </group>
        </device>
        <device name="left_leg-eb7-j4_5-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.7</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_leg-eb7-j4_5&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">2</param>
                    <param name="AxisMap">0 1</param>
                    <param name="AxisName">&quot;l_ankle_pitch&quot; &quot;l_ankle_roll&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044</param>
                    <param name="fullscalePWM">32000 32000</param>
                    <param name="ampsToSensor">1000.0 1000.0</param>
                    <param name="Gearbox_M2J">100.00 100.00</param>
                    <param name="Gearbox_E2J">1 1</param>
                    <param name="useMotorSpeedFbk">1 1</param>
                    <param name="MotorType">&quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMax">30.00 20.00</param>
                    <param name="hardwareJntPosMin">-30.00 -20.00</param>
                    <param name="rotorPosMin">0 0</param>
                    <param name="rotorPosMax">0 0</param>
                </group>
                <group name="2FOC">
                    <param name="HasHallSensor">1 1</param>
                    <param name="HasTempSensor">0 0</param>
                    <param name="HasRotorEncoder">1 1</param>
                    <param name="HasRotorEncoderIndex">0 0</param>
                    <param name="HasSpeedEncoder">0 0</param>
                    <param name="RotorIndexOffset">0 0</param>
                    <param name="MotorPoles">8 8</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <!-- 0.615 = alfa = 40/65 -->
                    <param name="matrixM2J">1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <param name="matrixE2J">1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">2</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_foc</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">foc</param>
                            <group name="PROTOCOL">
                                <param name="major">1</param>
                                <param name="minor">6</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0</param>
                                <param name="minor">0</param>
                                <param name="build">0</param>
                            </group>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">eomc_act_foc foc</param>
                                <param name="port">CAN1:1:0 CAN1:2:0</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">eomc_enc_aea aea</param>
                                <param name="port">CONN:P6 CONN:P7</param>
                                <param name="position">eomc_pos_atjoint atjoint</param>
                                <param name="resolution">-4096 4096</param>
                                <param name="tolerance">0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">roie roie</param>
                                <param name="port">CAN1:1:0 CAN1:2:0</param>
                                <param name="position">atmotor atmotor</param>
                                <param name="resolution">-14400 -14400</param>
                                <param name="tolerance">0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <param name="jntPosMax">30.00 20.00</param>
                <param name="jntPosMin">-30.00 -20.00</param>
                <param name="motorNominalCurrents">5000 5000</param>
                <param name="motorPeakCurrents">10000 10000</param>
                <param name="motorOverloadCurrents">15000 15000</param>
                <param name="jntVelMax">1000 1000</param>
                <param name="motorPwmLimit">10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT TRQ_PID_DEFAULT</param>
                <param name="currentPid">2FOC_CUR_CONTROL 2FOC_CUR_CONTROL</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">2200.00 2200.00</param>
                <param name="pos_kd">0.00 0.00</param>
                <param name="pos_ki">0.09 0.09</param>
                <param name="pos_maxOutput">8000 8000</param>
                <param name="pos_maxInt">750 750</param>
                <param name="pos_shift">0 0</param>
                <param name="pos_ko">0 0</param>
                <param name="pos_stictionUp">0 0</param>
                <param name="pos_stictionDwn">0 0</param>
                <param name="pos_kff">0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0.0 0.0</param>
                <param name="damping">0.0 0.0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">150 150</param>
                <param name="trq_kp">0 0</param>
                <param name="trq_kd">0 0</param>
                <param name="trq_ki">0 0</param>
                <param name="trq_maxOutput">8000 8000</param>
                <param name="trq_maxInt">500 500</param>
                <param name="trq_shift">0 0</param>
                <param name="trq_ko">0 0</param>
                <param name="trq_stictionUp">0 0</param>
                <param name="trq_stictionDwn">0 0</param>
                <param name="trq_kff">1 1</param>
                <param name="trq_kbemf">0 0</param>
                <param name="trq_filterType">0 0</param>
                <param name="trq_ktau">0 0</param>
            </group>
            <group name="2FOC_CUR_CONTROL">
                <param name="controlLaw">limitscurrent</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="cur_kp">8 8</param>
                <param name="cur_kd">0 0</param>
                <param name="cur_ki">2 2</param>
                <param name="cur_shift">10 10</param>
                <param name="cur_maxOutput">32000 32000</param>
                <param name="cur_maxInt">32000 32000</param>
                <param name="cur_ko">0 0</param>
                <param name="cur_stictionUp">0 0</param>
                <param name="cur_stictionDwn">0 0</param>
                <param name="cur_kff">0 0</param>
            </group>
        </device>
        <device name="left_leg-mc_wrapper" type="controlboardwrapper2">
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 5 0 1</elem>
            </paramlist>
            <param name="period">10</param>
            <param name="name">/icub/left_leg</param>
            <param name="ports">left_leg</param>
            <param name="joints">6</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebx-mc file -->
                    <elem name="FirstSetOfJoints">left_leg-eb6-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">left_leg-eb7-j4_5-mc</elem>
                    <elem name="Calibrator">left_leg-calibrator</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!-- RIGHT LEG -->
        <device name="right_leg-eb8-j0_3-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.8</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_leg-eb8-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">4</param>
                    <param name="AxisMap">0 1 2 3</param>
                    <param name="AxisName">&quot;r_hip_pitch&quot; &quot;r_hip_roll&quot; &quot;r_hip_yaw&quot; &quot;r_knee&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044 182.044 182.044</param>
                    <param name="fullscalePWM">32000 32000 32000 32000</param>
                    <param name="ampsToSensor">1000.0 1000.0 1000.0 1000.0</param>
                    <param name="Gearbox_M2J">100.00 -100.00 100.00 100.00</param>
                    <param name="Gearbox_E2J">1 1 1 1</param>
                    <param name="useMotorSpeedFbk">1 1 1 1</param>
                    <param name="MotorType">&quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMax">85 85 70 0</param>
                    <param name="hardwareJntPosMin">-30 -12 -70 -100</param>
                    <param name="rotorPosMin">0 0 0 0</param>
                    <param name="rotorPosMax">0 0 0 0</param>
                </group>
                <group name="2FOC">
                    <param name="HasHallSensor">1 1 1 1</param>
                    <param name="HasTempSensor">0 0 0 0</param>
                    <param name="HasRotorEncoder">1 1 1 1</param>
                    <param name="HasRotorEncoderIndex">0 0 0 0</param>
                    <param name="HasSpeedEncoder">0 0 0 0</param>
                    <param name="RotorIndexOffset">0 0 0 0</param>
                    <param name="MotorPoles">8 8 8 8</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <param name="matrixM2J">1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <param name="matrixE2J">1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">4</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_2">
                        <param name="listofjoints">2</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_3">
                        <param name="listofjoints">3</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_foc</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">foc</param>
                            <group name="PROTOCOL">
                                <param name="major">1</param>
                                <param name="minor">6</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0</param>
                                <param name="minor">0</param>
                                <param name="build">0</param>
                            </group>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">eomc_act_foc foc foc foc</param>
                                <param name="port">CAN1:3:0 CAN1:4:0 CAN1:1:0 CAN1:2:0</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">eomc_enc_aea aea aea aea</param>
                                <param name="port">CONN:P6 CONN:P7 CONN:P8 CONN:P9</param>
                                <param name="position">eomc_pos_atjoint atjoint atjoint atjoint</param>
                                <param name="resolution">-4096 -4096 -4096 4096</param>
                                <param name="tolerance">0.703 0.703 0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">roie roie roie roie</param>
                                <param name="port">CAN1:3:0 CAN1:4:0 CAN1:1:0 CAN1:2:0</param>
                                <param name="position">eomc_pos_atmotor atmotor atmotor atmotor</param>
                                <param name="resolution">-14400 -14400 -14400 -14400</param>
                                <param name="tolerance">0 0 0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <!--                                    0               1            2          3         -->
                <param name="jntPosMax">85 85 70 0</param>
                <param name="jntPosMin">-30 -12 -70 -100</param>
                <param name="motorNominalCurrents">5000 5000 5000 5000</param>
                <param name="motorPeakCurrents">6000 10000 6000 10000</param>
                <param name="motorOverloadCurrents">15000 15000 15000 15000</param>
                <param name="jntVelMax">1000 1000 1000 1000</param>
                <param name="motorPwmLimit">10000 10000 10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100 100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT TRQ_PID_DEFAULT</param>
                <param name="currentPid">2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL 2FOC_CUR_CONTROL</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">1066.66 -2066.66 711.11 1066.66</param>
                <param name="pos_kd">0.00 0.00 0.00 0.00</param>
                <param name="pos_ki">10666.64 -14222.18 7111.09 1066.64</param>
                <param name="pos_maxOutput">8000 8000 8000 8000</param>
                <param name="pos_maxInt">750 750 750 1000</param>
                <param name="pos_shift">0 0 0 0</param>
                <param name="pos_ko">0 0 0 0</param>
                <param name="pos_stictionUp">0 0 0 0</param>
                <param name="pos_stictionDwn">0 0 0 0</param>
                <param name="pos_kff">0 0 0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0 0 0 0</param>
                <param name="damping">0 0 0 0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">200 -200 0 300</param>
                <param name="trq_kd">0 0 0 0</param>
                <param name="trq_ki">0 0 0 0</param>
                <param name="trq_maxOutput">8000 8000 8000 8000</param>
                <param name="trq_maxInt">500 500 500 500</param>
                <param name="trq_shift">0 0 0 0</param>
                <param name="trq_ko">0 0 0 0</param>
                <param name="trq_stictionUp">0 0 0 0</param>
                <param name="trq_stictionDwn">0 0 0 0</param>
                <param name="trq_kff">1 1 1 1</param>
                <param name="trq_kbemf">0 0 0 0</param>
                <param name="trq_filterType">0 0 0 0</param>
                <param name="trq_ktau">0 0 0 0</param>
            </group>
            <group name="2FOC_CUR_CONTROL">
                <param name="controlLaw">limitscurrent</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="cur_kp">8 8 8 8</param>
                <param name="cur_kd">0 0 0 0</param>
                <param name="cur_ki">2 2 2 2</param>
                <param name="cur_shift">10 10 10 10</param>
                <param name="cur_maxOutput">32000 32000 32000 32000</param>
                <param name="cur_maxInt">32000 32000 32000 32000</param>
                <param name="cur_ko">0 0 0 0</param>
                <param name="cur_stictionUp">0 0 0 0</param>
                <param name="cur_stictionDwn">0 0 0 0</param>
                <param name="cur_kff">0 0 0 0</param>
            </group>
        </device>
        <device name="right_leg-eb9-j4_5-mc" type="embObjMotionControl">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.9</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_leg-eb9-j4_5&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="GENERAL">
                    <param name="MotioncontrolVersion">5</param>
                    <param name="Joints">2</param>
                    <param name="AxisMap">0 1</param>
                    <param name="AxisName">&quot;r_ankle_pitch&quot; &quot;r_ankle_roll&quot;</param>
                    <param name="AxisType">&quot;revolute&quot; &quot;revolute&quot;</param>
                    <param name="Encoder">182.044 182.044</param>
                    <param name="fullscalePWM">32000 32000</param>
                    <param name="ampsToSensor">1000.0 1000.0</param>
                    <param name="Gearbox_M2J">-100.00 -100.00</param>
                    <param name="Gearbox_E2J">1 1</param>
                    <param name="useMotorSpeedFbk">1 1</param>
                    <param name="MotorType">&quot;BLL_MOOG&quot; &quot;BLL_MOOG&quot;</param>
                    <param name="Verbose">0</param>
                </group>
                <group name="LIMITS">
                    <param name="hardwareJntPosMax">30 20</param>
                    <param name="hardwareJntPosMin">-30 -20</param>
                    <param name="rotorPosMin">0 0</param>
                    <param name="rotorPosMax">0 0</param>
                </group>
                <group name="2FOC">
                    <param name="HasHallSensor">1 1</param>
                    <param name="HasTempSensor">0 0</param>
                    <param name="HasRotorEncoder">1 1</param>
                    <param name="HasRotorEncoderIndex">0 0</param>
                    <param name="HasSpeedEncoder">0 0</param>
                    <param name="RotorIndexOffset">0 0</param>
                    <param name="MotorPoles">8 8</param>
                </group>
                <group name="COUPLINGS">
                    <param name="matrixJ2M">1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <!-- 0.615 = alfa = 40/65 -->
                    <param name="matrixM2J">1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00 0.00 0.00 0.00 0.00 1.00</param>
                    <param name="matrixE2J">1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000 0.000 0.000 0.000 0.000 1.000 0.000 0.000</param>
                </group>
                <group name="JOINTSET_CFG">
                    <param name="numberofsets">2</param>
                    <group name="JOINTSET_0">
                        <param name="listofjoints">0</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                    <group name="JOINTSET_1">
                        <param name="listofjoints">1</param>
                        <param name="constraint">none</param>
                        <param name="param1">0</param>
                        <param name="param2">0</param>
                    </group>
                </group>
            </params>
            <params robot="iCubGenova02" build="1">
                <group name="SERVICE">
                    <param name="type">eomn_serv_MC_foc</param>
                    <group name="PROPERTIES">
                        <group name="ETHBOARD">
                            <param name="type">ems4</param>
                        </group>
                        <group name="CANBOARDS">
                            <param name="type">foc</param>
                            <group name="PROTOCOL">
                                <param name="major">1</param>
                                <param name="minor">6</param>
                            </group>
                            <group name="FIRMWARE">
                                <param name="major">0</param>
                                <param name="minor">0</param>
                                <param name="build">0</param>
                            </group>
                        </group>
                        <group name="JOINTMAPPING">
                            <group name="ACTUATOR">
                                <param name="type">eomc_act_foc foc</param>
                                <param name="port">CAN1:1:0 CAN1:2:0</param>
                            </group>
                            <group name="ENCODER1">
                                <param name="type">eomc_enc_aea aea</param>
                                <param name="port">CONN:P6 CONN:P7</param>
                                <param name="position">eomc_pos_atjoint atjoint</param>
                                <param name="resolution">4096 -4096</param>
                                <param name="tolerance">0.703 0.703</param>
                            </group>
                            <group name="ENCODER2">
                                <param name="type">roie roie</param>
                                <param name="port">CAN1:1:0 CAN1:2:0</param>
                                <param name="position">atmotor atmotor</param>
                                <param name="resolution">-14400 -14400</param>
                                <param name="tolerance">0 0</param>
                            </group>
                        </group>
                    </group>
                </group>
            </params>
            <group name="LIMITS">
                <param name="jntPosMax">30 20</param>
                <param name="jntPosMin">-30 -20</param>
                <param name="motorNominalCurrents">5000 5000</param>
                <param name="motorPeakCurrents">10000 10000</param>
                <param name="motorOverloadCurrents">15000 15000</param>
                <param name="jntVelMax">1000 1000</param>
                <param name="motorPwmLimit">10000 10000</param>
            </group>
            <group name="TIMEOUTS">
                <param name="velocity">100 100</param>
            </group>
            <group name="CONTROLS">
                <param name="positionControl">POS_PID_DEFAULT POS_PID_DEFAULT</param>
                <param name="velocityControl">none none</param>
                <param name="torqueControl">TRQ_PID_DEFAULT TRQ_PID_DEFAULT</param>
                <param name="currentPid">2FOC_CUR_CONTROL 2FOC_CUR_CONTROL</param>
            </group>
            <group name="POS_PID_DEFAULT">
                <param name="controlLaw">Pid_inPos_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="pos_kp">-2105.00 -2310.00</param>
                <param name="pos_kd">0.00 0.00</param>
                <param name="pos_ki">-0.09 -0.09</param>
                <param name="pos_maxOutput">8000 8000</param>
                <param name="pos_maxInt">750 750</param>
                <param name="pos_shift">0 0</param>
                <param name="pos_ko">0 0</param>
                <param name="pos_stictionUp">0 0</param>
                <param name="pos_stictionDwn">0 0</param>
                <param name="pos_kff">0 0</param>
            </group>
            <group name="IMPEDANCE">
                <param name="stiffness">0 0</param>
                <param name="damping">0 0</param>
            </group>
            <group name="TRQ_PID_DEFAULT">
                <param name="controlLaw">Pid_inTrq_outPwm</param>
                <param name="fbkControlUnits">metric_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="trq_kp">-150 -150</param>
                <param name="trq_kd">0 0</param>
                <param name="trq_ki">0 0</param>
                <param name="trq_maxOutput">8000 8000</param>
                <param name="trq_maxInt">500 500</param>
                <param name="trq_shift">0 0</param>
                <param name="trq_ko">0 0</param>
                <param name="trq_stictionUp">0 0</param>
                <param name="trq_stictionDwn">0 0</param>
                <param name="trq_kff">1 1</param>
                <param name="trq_kbemf">0 0</param>
                <param name="trq_filterType">0 0</param>
                <param name="trq_ktau">0 0</param>
            </group>
            <group name="2FOC_CUR_CONTROL">
                <param name="controlLaw">limitscurrent</param>
                <param name="fbkControlUnits">machine_units</param>
                <param name="outputControlUnits">machine_units</param>
                <param name="cur_kp">8 8</param>
                <param name="cur_kd">0 0</param>
                <param name="cur_ki">2 2</param>
                <param name="cur_shift">10 10</param>
                <param name="cur_maxOutput">32000 32000</param>
                <param name="cur_maxInt">32000 32000</param>
                <param name="cur_ko">0 0</param>
                <param name="cur_stictionUp">0 0</param>
                <param name="cur_stictionDwn">0 0</param>
                <param name="cur_kff">0 0</param>
            </group>
        </device>
        <device name="right_leg-mc_wrapper" type="controlboardwrapper2">
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 5 0 1</elem>
            </paramlist>
            <param name="period">10</param>
            <param name="name">/icub/right_leg</param>
            <param name="ports">right_leg</param>
            <param name="joints">6</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">right_leg-eb8-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">right_leg-eb9-j4_5-mc</elem>
                    <elem name="Calibrator">right_leg-calibrator</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!-- INERTIAL SENSOR -->
        <device name="inertial" type="inertial">
            <param name="name">/icub/inertial</param>
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <param name="subdevice">xsensmtx</param>
            <param name="serial">/dev/ttyS0</param>
        </device>
        <!-- ANALOG SENSOR MAIS -->
        <device name="left_arm_as_wrapperMais" type="analogServer">
            <param name="period">10</param>
            <param name="deviceId">left_hand</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding emsX file -->
                    <elem name="leftMais">left_hand_mais</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="right_arm_as_wrapperMais" type="analogServer">
            <param name="period">10</param>
            <param name="deviceId">right_hand</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding emsX file -->
                    <elem name="leftMais">right_hand_mais</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_arm-eb2-j4_15-mais" type="embObjMais">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.2</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_arm-eb2-j4_15&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_mais</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_mais</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_l_hand_mais</param>
                        <param name="type">eoas_mais</param>
                        <param name="location">CAN1:14</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_l_hand_mais</param>
                </group>
            </group>
        </device>
        <device name="right_arm-eb4-j4_15-mais" type="embObjMais">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.4</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_arm-eb4-j4_15&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_mais</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_mais</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_r_hand_mais</param>
                        <param name="type">eoas_mais</param>
                        <param name="location">CAN1:14</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_r_hand_mais</param>
                </group>
            </group>
        </device>
        <!--  SKINS -->
        <device name="left_arm-skin_wrapper" type="skinWrapper">
            <param name="period">20</param>
            <param name="total_taxels">1344</param>
            <param name="device">skinWrapper</param>
            <paramlist name="ports">
                <elem name="left_hand">0 191 0 191</elem>
                <elem name="left_forearm">192 575 0 383</elem>
                <elem name="left_arm">576 1343 0 767</elem>
            </paramlist>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding emsX file -->
                    <elem name="FirstSetOfSkins">left_arm-eb2-j4_15-skin</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_arm-eb2-j4_15-skin" type="embObjSkin">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.2</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_arm-eb2-j4_15&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_SK_skin</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">mtb</param>
                        <group name="PROTOCOL">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                </group>
            </group>
            <group name="patches">
                <param name="skinCanAddrsPatch2">14 13 12 11 10 9 8</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="defaultCfgBoard">
                    <param name="period">50</param>
                    <param name="skinType">0</param>
                    <!-- 0 ==> new skin
                                                              1 ==> palm and fingertips skin
                                                              2 ==> old skin without temperature compensation -->
                    <param name="noLoad">0xf0</param>
                    <param name="diagnostic">false</param>
                    <!-- used to config high level -->
                </group>
                <group name="defaultCfgTriangle">
                    <param name="enabled">true</param>
                    <param name="shift">2</param>
                    <param name="cdcOffset">0x2200</param>
                </group>
                <group name="specialCfgTriangles">
                    <param name="numOfSets">20</param>
                    <param name="triangleSetCfg1">2 14 0 6 1 0 0x2000</param>
                    <param name="triangleSetCfg2">2 14 8 11 1 2 0x2200</param>
                    <param name="triangleSetCfg3">2 13 0 15 1 2 0x2200</param>
                    <param name="triangleSetCfg4">2 12 0 1 1 2 0x2200</param>
                    <param name="triangleSetCfg5">2 12 3 3 1 2 0x2200</param>
                    <param name="triangleSetCfg6">2 12 6 6 1 2 0x2200</param>
                    <param name="triangleSetCfg7">2 12 8 9 1 2 0x2200</param>
                    <param name="triangleSetCfg8">2 12 12 13 1 2 0x2200</param>
                    <param name="triangleSetCfg9">2 11 1 4 1 2 0x2200</param>
                    <param name="triangleSetCfg10">2 11 8 13 1 2 0x2200</param>
                    <param name="triangleSetCfg11">2 10 0 1 1 2 0x2200</param>
                    <param name="triangleSetCfg12">2 10 6 6 1 2 0x2200</param>
                    <param name="triangleSetCfg13">2 10 8 15 1 2 0x2200</param>
                    <param name="triangleSetCfg14">2 9 0 8 1 2 0x2200</param>
                    <param name="triangleSetCfg15">2 9 12 13 1 2 0x2200</param>
                    <param name="triangleSetCfg16">2 8 0 0 1 2 0x2200</param>
                    <param name="triangleSetCfg17">2 8 8 9 1 2 0x2200</param>
                    <param name="triangleSetCfg18">2 8 10 11 1 2 0x2200</param>
                    <param name="triangleSetCfg19">2 8 13 13 1 2 0x2200</param>
                    <param name="triangleSetCfg20">2 8 15 15 1 2 0x2200</param>
                </group>
            </params>
        </device>
        <device name="right_arm-skin_wrapper" type="skinWrapper">
            <param name="period">20</param>
            <param name="total_taxels">1344</param>
            <param name="device">skinWrapper</param>
            <paramlist name="ports">
                <elem name="right_hand">0 191 0 191</elem>
                <elem name="right_forearm">192 575 0 383</elem>
                <elem name="right_arm">576 1343 0 767</elem>
            </paramlist>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding emsX file -->
                    <elem name="FirstSetOfSkins">right_arm-eb4-j4_15-skin</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="right_arm-eb4-j4_15-skin" type="embObjSkin">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.4</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_arm-eb4-j4_15&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_SK_skin</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">mtb</param>
                        <group name="PROTOCOL">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                </group>
            </group>
            <group name="patches">
                <param name="skinCanAddrsPatch2">14 13 12 11 10 9 8</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="defaultCfgBoard">
                    <param name="period">50</param>
                    <param name="skinType">0</param>
                    <!-- 0 ==> new skin
                                                              1 ==> palm and fingertips skin
                                                              2 ==> old skin without temperature compensation -->
                    <param name="noLoad">0xf0</param>
                    <param name="diagnostic">false</param>
                    <!-- used to config high level -->
                </group>
                <group name="defaultCfgTriangle">
                    <param name="enabled">true</param>
                    <param name="shift">2</param>
                    <param name="cdcOffset">0x2200</param>
                </group>
                <group name="specialCfgTriangles">
                    <param name="numOfSets">20</param>
                    <param name="triangleSetCfg1">2 14 0 6 1 0 0x2000</param>
                    <param name="triangleSetCfg2">2 14 8 11 1 2 0x2200</param>
                    <param name="triangleSetCfg3">2 13 0 15 1 2 0x2200</param>
                    <param name="triangleSetCfg4">2 12 0 1 1 2 0x2200</param>
                    <param name="triangleSetCfg5">2 12 3 3 1 2 0x2200</param>
                    <param name="triangleSetCfg6">2 12 6 6 1 2 0x2200</param>
                    <param name="triangleSetCfg7">2 12 8 9 1 2 0x2200</param>
                    <param name="triangleSetCfg8">2 12 12 13 1 2 0x2200</param>
                    <param name="triangleSetCfg9">2 11 1 4 1 2 0x2200</param>
                    <param name="triangleSetCfg10">2 11 8 13 1 2 0x2200</param>
                    <param name="triangleSetCfg11">2 9 0 1 1 2 0x2200</param>
                    <param name="triangleSetCfg12">2 9 6 6 1 2 0x2200</param>
                    <param name="triangleSetCfg13">2 9 8 15 1 2 0x2200</param>
                    <param name="triangleSetCfg14">2 10 0 8 1 2 0x2200</param>
                    <param name="triangleSetCfg15">2 10 12 13 1 2 0x2200</param>
                    <param name="triangleSetCfg16">2 8 0 0 1 2 0x2200</param>
                    <param name="triangleSetCfg17">2 8 8 9 1 2 0x2200</param>
                    <param name="triangleSetCfg18">2 8 10 11 1 2 0x2200</param>
                    <param name="triangleSetCfg19">2 8 13 13 1 2 0x2200</param>
                    <param name="triangleSetCfg20">2 8 15 15 1 2 0x2200</param>
                </group>
            </params>
        </device>
        <device name="left_leg-skin_wrapper" type="skinWrapper">
            <param name="period">20</param>
            <param name="total_taxels">2496</param>
            <param name="device">skinWrapper</param>
            <paramlist name="ports">
                <elem name="left_leg_upper">1152 2495 0 1343</elem>
                <elem name="left_leg_lower">384 1151 0 767</elem>
                <elem name="left_foot">0 383 0 383</elem>
            </paramlist>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding emsX file -->
                    <elem name="FirstSetOfSkins">left_leg-eb10-skin</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="right_leg_skin_wrapper" type="skinWrapper">
            <param name="period">20</param>
            <param name="total_taxels">2496</param>
            <param name="device">skinWrapper</param>
            <paramlist name="ports">
                <elem name="right_leg_upper">1152 2495 0 1343</elem>
                <elem name="right_leg_lower">384 1151 0 767</elem>
                <elem name="right_foot">0 383 0 383</elem>
            </paramlist>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <elem name="FirstSetOfSkins">right_leg-eb11-skin</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_leg-eb10-skin" type="embObjSkin">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.10</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_leg-eb10-skin&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_SK_skin</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">mtb</param>
                        <group name="PROTOCOL">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                </group>
            </group>
            <group name="patches">
                <param name="skinCanAddrsPatch1">1 2 3 4 5 6 7</param>
                <param name="skinCanAddrsPatch2">13 12 8 9 10 11</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="defaultCfgBoard">
                    <param name="period">50</param>
                    <param name="skinType">0</param>
                    <!-- 0 ==> new skin
                                                              1 ==> palm and fingertips skin
                                                              2 ==> old skin without temperature compensation -->
                    <param name="noLoad">0xf0</param>
                    <param name="diagnostic">false</param>
                    <!-- used to config high level -->
                </group>
                <group name="defaultCfgTriangle">
                    <param name="enabled">true</param>
                    <param name="shift">2</param>
                    <param name="cdcOffset">0x2200</param>
                </group>
                <!--                                 patch       boardAddr    idStart       idEnd        enabled          shift       cdcOffset      -->
                <!-- 	<group name="specialCfgTriangles">
        <param name="numOfSets">         32  </param>
 		   <param name="triangleSetCfg1">      1            1            0            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg2">      1            2            0             0             1              2            0x2200      </param>
		   <param name="triangleSetCfg3">      1            2            3             6             1              2            0x2200      </param>
		   <param name="triangleSetCfg4">      1            2            9            11             1              2            0x2200      </param>
		   <param name="triangleSetCfg5">      1            2           14            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg6">      1            3            1             8             1              2            0x2200      </param>
		   <param name="triangleSetCfg7">      1            3           12            13             1              2            0x2200      </param>
		  
		   <param name="triangleSetCfg8">      1            4            5             6             1              2            0x2200      </param>
		   <param name="triangleSetCfg9">      1            4            8            10             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg10">      1            5            0             2             1              2            0x2200      </param>
		   <param name="triangleSetCfg11">      1            5           12            12             1              2            0x2200      </param>
		   <param name="triangleSetCfg12">      1            5           14            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg13">      1            6           1            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg14">      1            6           3            13             1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg15">      1            7           0            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg16">      1            7           8            8              1              2            0x2200       </param>
		   <param name="triangleSetCfg17">      1            7          10           15              1              2            0x2200       </param>
		  -->
                <!-- LOWER LEG -->
                <!--
    	   <param name="triangleSetCfg18">      2            8           0            0               1              2            0x2200       </param>
		   <param name="triangleSetCfg19">      2            8           3            6               1              2            0x2200       </param>
		   <param name="triangleSetCfg20">      2            8           9            11              1              2            0x2200       </param>
		   <param name="triangleSetCfg21">      2            8           14           15              1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg22">      2            9            0            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg23">      2            9           12           12              1              2            0x2200       </param>
		   <param name="triangleSetCfg24">      2            9            3            7              1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg25">      2           10            0            0              1              2            0x2200       </param>
		   <param name="triangleSetCfg26">      2           10            3            6              1              2            0x2200       </param>
		   <param name="triangleSetCfg27">      2           10            9           11              1              2            0x2200       </param>
		   <param name="triangleSetCfg28">      2           10           14           15              1              2            0x2200       </param>

		   <param name="triangleSetCfg29">      2            11             1             8             1              2            0x2200      </param>
		   <param name="triangleSetCfg30">      2            11            12            13             1              2            0x2200      </param>
		   -->
                <!-- FOOT -->
                <!--
		   <param name="triangleSetCfg31">      2            13             0             4             1              2            0x2200      </param>
		   <param name="triangleSetCfg32">      2            13             8            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg31">      2            12             1             6             1             2            0x2200      </param>
		   <param name="triangleSetCfg32">      2            12             8            13             1             2            0x2200      </param>
        </group>
        -->
                <!-- UPPER LEG -->
                <!--
		   <param name="triangleSetCfg1">      1            1            0            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg2">      1            2            0             0             1              2            0x2200      </param>
		   <param name="triangleSetCfg3">      1            2            3             6             1              2            0x2200      </param>
		   <param name="triangleSetCfg4">      1            2            9            11             1              2            0x2200      </param>
		   <param name="triangleSetCfg5">      1            2           14            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg6">      1            3            1             8             1              2            0x2200      </param>
		   <param name="triangleSetCfg7">      1            3           12            13             1              2            0x2200      </param>
		  
		   <param name="triangleSetCfg8">      1            4            5             6             1              2            0x2200      </param>
		   <param name="triangleSetCfg9">      1            4            8            10             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg10">      1            5            0             2             1              2            0x2200      </param>
		   <param name="triangleSetCfg11">      1            5           12            12             1              2            0x2200      </param>
		   <param name="triangleSetCfg12">      1            5           14            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg13">      1            6           1            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg14">      1            6           3            13             1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg15">      1            7           0            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg16">      1            7           8            8              1              2            0x2200       </param>
		   <param name="triangleSetCfg17">      1            7          10           15              1              2            0x2200       </param>
		  -->
                <!-- LOWER LEG -->
                <!--
    	   <param name="triangleSetCfg18">      2            8           0            0               1              2            0x2200       </param>
		   <param name="triangleSetCfg19">      2            8           3            6               1              2            0x2200       </param>
		   <param name="triangleSetCfg20">      2            8           9            11              1              2            0x2200       </param>
		   <param name="triangleSetCfg21">      2            8           14           15              1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg22">      2            9            0            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg23">      2            9           12           12              1              2            0x2200       </param>
		   <param name="triangleSetCfg24">      2            9            3            7              1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg25">      2           10            0            0              1              2            0x2200       </param>
		   <param name="triangleSetCfg26">      2           10            3            6              1              2            0x2200       </param>
		   <param name="triangleSetCfg27">      2           10            9           11              1              2            0x2200       </param>
		   <param name="triangleSetCfg28">      2           10           14           15              1              2            0x2200       </param>

		   <param name="triangleSetCfg29">      1            11             1             8             1              2            0x2200      </param>
		   <param name="triangleSetCfg30">      1            11            12            13             1              2            0x2200      </param>
		   -->
                <!-- FOOT -->
                <!--
		   <param name="triangleSetCfg31">      1            13             0             4             1              2            0x2200      </param>
		   <param name="triangleSetCfg32">      1            13             8            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg31">      1            12             1             6             1             2            0x2200      </param>
		   <param name="triangleSetCfg32">      1            12             8            13             1             2            0x2200      </param>
        </group>
         -->
            </params>
        </device>
        <device name="right_leg-eb11-skin" type="embObjSkin">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.11</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_leg-eb11-skin&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">3</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_SK_skin</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">mtb</param>
                        <group name="PROTOCOL">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                </group>
            </group>
            <group name="patches">
                <param name="skinCanAddrsPatch1">1 2 3 4 5 6 7</param>
                <param name="skinCanAddrsPatch2">13 12 8 9 10 11</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="defaultCfgBoard">
                    <param name="period">50</param>
                    <param name="skinType">0</param>
                    <!-- 0 ==> new skin
                                                              1 ==> palm and fingertips skin
                                                              2 ==> old skin without temperature compensation -->
                    <param name="noLoad">0xf0</param>
                    <param name="diagnostic">false</param>
                    <!-- used to config high level -->
                </group>
                <group name="defaultCfgTriangle">
                    <param name="enabled">true</param>
                    <param name="shift">2</param>
                    <param name="cdcOffset">0x2200</param>
                </group>
                <!--                                 patch       boardAddr    idStart       idEnd        enabled          shift       cdcOffset      -->
                <!-- <group name="specialCfgTriangles">
        <param name="numOfSets">         33  </param>
  
		   <param name="triangleSetCfg1">      1            1            0             3             1              2            0x2200      </param>
		   <param name="triangleSetCfg2">     1            1            5            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg3">      1            2            0             0             1              2            0x2200      </param>
		   <param name="triangleSetCfg4">      1            2            3             6             1              2            0x2200      </param>
		   <param name="triangleSetCfg5">      1            2            9            11             1              2            0x2200      </param>
		   <param name="triangleSetCfg6">      1            2           14            15             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg7">      1            3            1             8             1              2            0x2200      </param>
		   <param name="triangleSetCfg8">      1            3           12            13             1              2            0x2200      </param>
		   
		   <param name="triangleSetCfg9">      1            4            3             3             1              2            0x2200      </param>
		   <param name="triangleSetCfg10">      1            4            5             6             1              2            0x2200      </param>
		   <param name="triangleSetCfg11">      1            4           9             11             1              2            0x2200      </param>
		   
		   
		   <param name="triangleSetCfg12">      1            5            0             3             1              2            0x2200      </param>
		   <param name="triangleSetCfg13">      1            5           12            12             1              2            0x2200      </param>
		   
		   
		   <param name="triangleSetCfg14">      1            6           0            2              1              2            0x2200       </param>
		   <param name="triangleSetCfg15">      1            6           6            6             1              2            0x2200       </param>
		   <param name="triangleSetCfg16">      1            6           8            15             1              2            0x2200       </param>
		  
		   <param name="triangleSetCfg17">      1            7           0            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg18">      1            7           6            6              1              2            0x2200       </param>
		   <param name="triangleSetCfg19">      1            7           9           15              1              2            0x2200       </param>
		  -->
                <!-- LOWER LEG -->
                <!--
    	   <param name="triangleSetCfg18">      2            8           0            0               1              2            0x2200       </param>
		   <param name="triangleSetCfg19">      2            8           3            6               1              2            0x2200       </param>
		   <param name="triangleSetCfg20">      2            8           9            11              1              2            0x2200       </param>
		   <param name="triangleSetCfg21">      2            8           14           15              1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg22">      2            9            0            1              1              2            0x2200       </param>
		   <param name="triangleSetCfg23">      2            9           12           13              1              2            0x2200       </param>
		   <param name="triangleSetCfg24">      2            9            3            5              1              2            0x2200       </param>
		   
		   <param name="triangleSetCfg25">      2           10            0            0              1              2            0x2200       </param>
		   <param name="triangleSetCfg26">      2           10            3            6              1              2            0x2200       </param>
		   <param name="triangleSetCfg27">      2           10            9           11              1              2            0x2200       </param>
		   <param name="triangleSetCfg28">      2           10           14           15              1              2            0x2200       </param>

		   <param name="triangleSetCfg29">      2            11             1             8             1            2            0x2200      </param>
		   <param name="triangleSetCfg30">      2            11            12            13             1            2            0x2200      </param>
		  		   -->
                <!-- FOOT -->
                <!--
		   <param name="triangleSetCfg31">      2            13             0             4             1             2            0x2200      </param>
		   <param name="triangleSetCfg32">      2            13             8            15             1             2            0x2200      </param>
		   
		   <param name="triangleSetCfg31">      2            12             1             6             1             2            0x2200      </param>
		   <param name="triangleSetCfg32">      2            12             8            13             1             2            0x2200      </param>
        </group>-->
            </params>
        </device>
        <!-- Skin torso is never tested"
    <xi:include href="wrappers/skin/torso-skin_wrapper.xml" />
    <xi:include href="hardware/skin/torso-eb22-skin.xml" />
    -->
        <!-- ANALOG SENSOR FT -->
        <device name="left_arm-FT_wrapper" type="analogServer">
            <param name="period">10</param>
            <param name="name">/icub/left_arm/analog:o</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-strain.xml file -->
                    <elem name="FirstStrain">left_arm-eb1-j0_3-strain</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_arm-FT_wrapper" type="analogServer">
            <param name="period">10</param>
            <param name="name">/icub/right_arm/analog:o</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-strain.xml file -->
                    <elem name="FirstStrain">right_arm-eb3-j0_3-strain</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="right_leg-FT_wrapper" type="analogServer">
            <param name="period">10</param>
            <param name="name">/icub/right_leg/analog:o</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-strain.xml file -->
                    <elem name="FirstStrain">right_leg-eb8-j0_3-strain</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_leg-FT_wrapper" type="analogServer">
            <param name="period">10</param>
            <param name="name">/icub/left_leg/analog:o</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-strain.xml file -->
                    <elem name="FirstStrain">left_leg-eb6-j0_3-strain</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="right_foot-FT_wrapper" type="analogServer">
            <param name="period">10</param>
            <param name="name">/icub/right_foot/analog:o</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-strain.xml file -->
                    <elem name="FirstStrain">right_leg-eb9-j4_5-strain</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_foot-FT_wrapper" type="analogServer">
            <param name="period">10</param>
            <param name="name">/icub/left_foot/analog:o</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-strain.xml file -->
                    <elem name="FirstStrain">left_leg-eb7-j4_5-strain</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_arm-eb1-j0_3-strain" type="embObjStrain">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.1</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_arm-eb1-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_strain</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_strain</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_l_upper_arm_strain</param>
                        <param name="type">eoas_strain</param>
                        <param name="location">CAN2:13</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_l_upper_arm_strain</param>
                </group>
                <group name="STRAIN_SETTINGS">
                    <param name="useCalibration">true</param>
                </group>
            </group>
        </device>
        <device name="right_arm-eb3-j0_3-strain" type="embObjStrain">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.3</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_arm-eb3-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_strain</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_strain</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_r_upper_arm_strain</param>
                        <param name="type">eoas_strain</param>
                        <param name="location">CAN2:13</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_r_upper_arm_strain</param>
                </group>
                <group name="STRAIN_SETTINGS">
                    <param name="useCalibration">true</param>
                </group>
            </group>
        </device>
        <device name="left_leg-eb6-j0_3-strain" type="embObjStrain">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.6</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_leg-eb6-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_strain</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_strain</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_l_upper_leg_strain</param>
                        <param name="type">eoas_strain</param>
                        <param name="location">CAN2:13</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_l_upper_leg_strain</param>
                </group>
                <group name="STRAIN_SETTINGS">
                    <param name="useCalibration">true</param>
                </group>
            </group>
        </device>
        <device name="left_leg-eb7-j4_5-strain" type="embObjStrain">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.7</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;left_leg-eb7-j4_5&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_strain</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_strain</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_l_lower_leg_strain</param>
                        <param name="type">eoas_strain</param>
                        <param name="location">CAN2:13</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_l_lower_leg_strain</param>
                </group>
                <group name="STRAIN_SETTINGS">
                    <param name="useCalibration">true</param>
                </group>
            </group>
        </device>
        <device name="right_leg-eb8-j0_3-strain" type="embObjStrain">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.8</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_leg-eb8-j0_3&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_strain</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_strain</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_r_upper_leg_strain</param>
                        <param name="type">eoas_strain</param>
                        <param name="location">CAN2:13</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_r_upper_leg_strain</param>
                </group>
                <group name="STRAIN_SETTINGS">
                    <param name="useCalibration">true</param>
                </group>
            </group>
        </device>
        <device name="right_leg-eb9-j4_5-strain" type="embObjStrain">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <params robot="iCubGenova02" build="1">
                <group name="PC104">
                    <param name="PC104IpAddress">10.0.1.104</param>
                    <param name="PC104IpPort">12345</param>
                    <param name="PC104TXrate">1</param>
                    <param name="PC104RXrate">5</param>
                </group>
                <group name="ETH_BOARD">
                    <group name="ETH_BOARD_PROPERTIES">
                        <param name="IpAddress">10.0.1.9</param>
                        <param name="IpPort">12345</param>
                        <param name="Type">ems4</param>
                        <param name="maxSizeRXpacket">768</param>
                        <param name="maxSizeROP">384</param>
                    </group>
                    <group name="ETH_BOARD_SETTINGS">
                        <param name="Name">&quot;right_leg-eb9-j4_5&quot;</param>
                        <group name="RUNNINGMODE">
                            <param name="period">1000</param>
                            <param name="maxTimeOfRXactivity">400</param>
                            <param name="maxTimeOfDOactivity">300</param>
                            <param name="maxTimeOfTXactivity">300</param>
                            <param name="TXrateOfRegularROPs">5</param>
                        </group>
                    </group>
                    <group name="ETH_BOARD_ACTIONS">
                        <group name="MONITOR_ITS_PRESENCE">
                            <param name="enabled">true</param>
                            <param name="timeout">0.020</param>
                            <param name="periodOfMissingReport">60.0</param>
                        </group>
                    </group>
                </group>
            </params>
            <group name="SERVICE">
                <param name="type">eomn_serv_AS_strain</param>
                <group name="PROPERTIES">
                    <group name="CANBOARDS">
                        <param name="type">eobrd_strain</param>
                        <group name="PROTOCOL">
                            <param name="major">1</param>
                            <param name="minor">0</param>
                        </group>
                        <group name="FIRMWARE">
                            <param name="major">0</param>
                            <param name="minor">0</param>
                            <param name="build">0</param>
                        </group>
                    </group>
                    <group name="SENSORS">
                        <param name="id">id_r_lower_leg_strain</param>
                        <param name="type">eoas_strain</param>
                        <param name="location">CAN2:13</param>
                    </group>
                </group>
                <group name="SETTINGS">
                    <param name="acquisitionRate">10</param>
                    <param name="enabledSensors">id_r_lower_leg_strain</param>
                </group>
                <group name="STRAIN_SETTINGS">
                    <param name="useCalibration">true</param>
                </group>
            </group>
        </device>
        <!-- VIRTUAL ANALOG SENSORS (WRAPPER ONLY-->
        <device name="left_arm_VFTserver" type="virtualAnalogServer">
            <param name="period">10</param>
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 6 0 2</elem>
            </paramlist>
            <param name="channels">7</param>
            <param name="name">/icub/joint_vsens/left_arm:i</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">left_arm-eb1-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">left_arm-eb2-j4_15-mc</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="right_leg-VFTserver" type="virtualAnalogServer">
            <param name="period">10</param>
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 5 0 1</elem>
            </paramlist>
            <param name="channels">6</param>
            <param name="name">/icub/joint_vsens/right_leg:i</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">right_leg-eb8-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">right_leg-eb9-j4_5-mc</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="left_leg-VFTserver" type="virtualAnalogServer">
            <param name="period">10</param>
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 5 0 1</elem>
            </paramlist>
            <param name="channels">6</param>
            <param name="name">/icub/joint_vsens/left_leg:i</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">left_leg-eb6-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">left_leg-eb7-j4_5-mc</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="right_arm-VFTserver" type="virtualAnalogServer">
            <param name="period">10</param>
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 3 0 3</elem>
                <elem name="SecondSetOfJoints">4 6 0 2</elem>
            </paramlist>
            <param name="channels">7</param>
            <param name="name">/icub/joint_vsens/right_arm:i</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">right_arm-eb3-j0_3-mc</elem>
                    <elem name="SecondSetOfJoints">right_arm-eb4-j4_15-mc</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <device name="torso-VFTserver" type="virtualAnalogServer">
            <param name="period">10</param>
            <paramlist name="networks">
                <!-- elem name hereafter are custom names that live only in this file, they are used in the attach phase -->
                <elem name="FirstSetOfJoints">0 2 0 2</elem>
            </paramlist>
            <param name="channels">3</param>
            <param name="name">/icub/joint_vsens/torso:i</param>
            <action phase="startup" level="5" type="attach">
                <paramlist name="networks">
                    <!-- The param value must match the device name in the corresponding body_part-ebX-jA_B-mc.xml file -->
                    <elem name="FirstSetOfJoints">torso-eb5-j0_2-mc</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="5" type="detach" />
        </device>
        <!--  CALIBRATORS -->
        <device name="left_arm_calibrator" type="parametricCalibratorEth">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <group name="GENERAL">
                <param name="joints">16</param>
                <param name="deviceName">Left_Arm_Calibrator</param>
            </group>
            <group name="HOME">
                <param name="positionHome">-30 30 0 45 0 0 40 15 30 0 0 0 0 0 0 0</param>
                <param name="velocityHome">10 10 10 10 30 30 30 100 10 10 10 10 10 10 10 10</param>
            </group>
            <group name="CALIBRATION">
                <param name="calibrationType">12 12 12 12 0 3 3 7 7 6 6 6 6 6 6 6</param>
                <param name="calibration1">35711 13407 42511 38239 500.0 2047.5 2047.5 67800.0 13913.9 0.0 0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration2">0 0 0 0 20.0 10.0 10.0 100.0 10.0 10.0 30.0 10.0 10.0 10.0 10.0 10.0</param>
                <param name="calibration3">0 0 0 0 0.0 3957.5 2428.4 0.0 0.0 -1 1 -1 1 -1 1 -1</param>
                <param name="calibration4">0 0 0 0 0 0 0 2100 407 230 460 255 480 255 510 665</param>
                <param name="calibration5">0 0 0 0 0 0 0 2330 2290 0 0 0 20 0 2 100</param>
                <param name="calibrationZero">0.0 0.0 0.0 0.0 -75.00 -180.00 180.00 0 0 0 0 0 0 0 0 0</param>
                <param name="calibrationDelta">-10.1 -9.2 0.0 0.0 0 0 4 0 0 0 0 0 0 0 0 0</param>
                <param name="startupPosition">-35.97 29.97 0.06 50.00 0.0 0.0 0.0 15.0 30.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="startupVelocity">10.0 10.0 10.0 10.0 30.0 30.0 30.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0</param>
                <param name="startupMaxPwm">2000 2000 2000 2000 0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="startupPosThreshold">2 2 2 2 2 2 90 90 1000 1000 1000 1000 1000 1000 1000 1000</param>
            </group>
            <param name="CALIB_ORDER">(0 1 2 3) (4) (5 6 7) (8 9 11 13) (10 12 14 15)</param>
            <action phase="startup" level="10" type="calibrate">
                <param name="target">left_arm-mc_wrapper</param>
            </action>
            <action phase="interrupt1" level="1" type="park">
                <param name="target">left_arm-mc_wrapper</param>
            </action>
            <action phase="interrupt3" level="1" type="abort" />
        </device>
        <device name="right_arm_calibrator" type="parametricCalibratorEth">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <group name="GENERAL">
                <param name="joints">16</param>
                <param name="deviceName">Right_Arm_Calibrator</param>
            </group>
            <group name="HOME">
                <param name="positionHome">-30 30 0 45 0 0 40 15 30 0 0 0 0 0 0 0</param>
                <param name="velocityHome">10 10 10 10 30 30 30 100 10 10 10 10 10 10 10 10</param>
            </group>
            <group name="CALIBRATION">
                <param name="calibrationType">12 12 12 12 0 3 3 7 7 6 6 6 6 6 6 6</param>
                <param name="calibration1">18991 55343 49199 6511 500.0 2047.5 2047.5 26700.0 27822.2 0.0 0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration2">0 0 0 0 -20.0 10.0 10.0 100.0 10.0 10.0 30.0 10.0 10.0 10.0 10.0 10.0</param>
                <param name="calibration3">0 0 0 0 0.0 3582.5 2779.4 0.0 0.0 -1 1 -1 1 -1 1 -1</param>
                <param name="calibration4">0 0 0 0 0 0 0 2750 290 255 465 240 430 245 510 732</param>
                <param name="calibration5">0 0 0 0 0 0 0 2965 1432 20 4 0 0 10 0 100</param>
                <param name="calibrationZero">0.0 0.0 0.0 0.0 -75.00 180.00 -180.00 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibrationDelta">-2.0 -10.2 -15.0 -6.3 0 0 -7 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="startupPosition">-35.97 29.97 0.06 50.00 0.0 0.0 0.0 15.0 30.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="startupVelocity">10.0 10.0 10.0 10.0 30.0 30.0 30.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0 100.0</param>
                <param name="startupMaxPwm">2000 2000 2000 2000 0 0 0 0 0 0 0 0 0 0 0 0</param>
                <param name="startupPosThreshold">2 2 2 2 2 2 90 90 1000 1000 1000 1000 1000 1000 1000 1000</param>
            </group>
            <param name="CALIB_ORDER">(0 1 2 3) (4) (5 6 7) (8 9 11 13) (10 12 14 15)</param>
            <action phase="startup" level="10" type="calibrate">
                <param name="target">right_arm-mc_wrapper</param>
            </action>
            <action phase="interrupt1" level="1" type="park">
                <param name="target">right_arm-mc_wrapper</param>
            </action>
            <action phase="interrupt3" level="1" type="abort" />
        </device>
        <device name="left_leg_calibrator" type="parametricCalibratorEth">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <group name="GENERAL">
                <param name="joints">6</param>
                <param name="deviceName">Left_Leg_Calibrator</param>
            </group>
            <group name="HOME">
                <param name="positionHome">0.00 10.00 0.00 0.00 0.00 0.00</param>
                <param name="velocityHome">10.00 10.00 10.00 10.00 10.00 10.00</param>
            </group>
            <group name="CALIBRATION">
                <param name="calibrationType">12 12 12 12 12 12</param>
                <param name="calibration1">26527.0 61375.0 41535 31775 1711.0 51935.0</param>
                <param name="calibration2">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration3">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration4">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration5">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibrationZero">0.0 0.00 0.00 0.00 0.0 0.00</param>
                <param name="calibrationDelta">2.0 -3.9 -2.5 -3.7 0.0 2.3</param>
                <param name="startupPosition">0 10.0 0 0 0 0</param>
                <param name="startupVelocity">10.0 10.0 10.0 10.0 10.0 10.0</param>
                <param name="startupMaxPwm">1200 1200 1200 1200 1200 1200</param>
                <param name="startupPosThreshold">2 2 2 2 2 2</param>
            </group>
            <param name="CALIB_ORDER">(0 1 2 3 4 5)</param>
            <action phase="startup" level="10" type="calibrate">
                <param name="target">left_leg-mc_wrapper</param>
            </action>
            <action phase="interrupt1" level="1" type="park">
                <param name="target">left_leg-mc_wrapper</param>
            </action>
            <action phase="interrupt3" level="1" type="abort" />
        </device>
        <device name="right_leg_calibrator" type="parametricCalibratorEth">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <group name="GENERAL">
                <param name="joints">6</param>
                <param name="deviceName">Right_Leg_Calibrator</param>
            </group>
            <group name="HOME">
                <param name="positionHome">0.00 10.00 0.00 0.00 0.00 0.00</param>
                <param name="velocityHome">10.00 10.00 10.00 10.00 10.00 10.00</param>
            </group>
            <group name="CALIBRATION">
                <param name="calibrationType">12 12 12 12 12 12</param>
                <param name="calibration1">12927.0 64479 44479.0 45631.0 18847.0 9087.0</param>
                <param name="calibration2">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration3">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration4">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibration5">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibrationZero">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="calibrationDelta">-2.0 -1.9 0.7 0.4 1.1 0.7</param>
                <param name="startupPosition">0 10.0 0 0 0 0</param>
                <param name="startupVelocity">10.0 10.0 10.0 10.0 10.0 10.0</param>
                <param name="startupMaxPwm">1200 1200 1200 1200 1200 1200</param>
                <param name="startupPosThreshold">2 2 2 2 2 2</param>
            </group>
            <param name="CALIB_ORDER">(0 1 2 3 4 5)</param>
            <action phase="startup" level="10" type="calibrate">
                <param name="target">right_leg-mc_wrapper</param>
            </action>
            <action phase="interrupt1" level="1" type="park">
                <param name="target">right_leg-mc_wrapper</param>
            </action>
            <action phase="interrupt3" level="1" type="abort" />
        </device>
        <device name="torso_calibrator" type="parametricCalibratorEth">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <group name="GENERAL">
                <param name="joints">3</param>
                <param name="deviceName">Torso_Calibrator</param>
            </group>
            <group name="HOME">
                <param name="positionHome">0 0 -20</param>
                <param name="velocityHome">10 10 10</param>
            </group>
            <group name="CALIBRATION">
                <param name="calibrationType">12 12 12</param>
                <param name="calibration1">13711.0 19871.0 53551.0</param>
                <param name="calibration2">0.0 0.0 0.0</param>
                <param name="calibration3">0.0 0.0 0.0</param>
                <param name="calibration4">0.0 0.0 0.0</param>
                <param name="calibration5">0.0 0.0 0.0</param>
                <param name="calibrationZero">0.0 0.0 0.0</param>
                <param name="calibrationDelta">0.0 0.0 1.8</param>
                <param name="startupPosition">0.0 0.0 0.0</param>
                <param name="startupVelocity">10.0 10.0 10.0</param>
                <param name="startupMaxPwm">5500 5500 5500</param>
                <param name="startupPosThreshold">2 2 2</param>
            </group>
            <param name="CALIB_ORDER">(0 1 2)</param>
            <action phase="startup" level="10" type="calibrate">
                <param name="target">torso-mc_wrapper</param>
            </action>
            <action phase="interrupt1" level="1" type="park">
                <param name="target">torso-mc_wrapper</param>
            </action>
            <action phase="interrupt3" level="1" type="abort" />
        </device>
        <device name="head_calibrator" type="parametricCalibratorEth">
            <group name="GENERAL">
                <param name="skipCalibration">false</param>
                <param name="useRawEncoderData">false</param>
                <param name="useLimitedPWM">false</param>
                <param name="verbose">false</param>
            </group>
            <group name="GENERAL">
                <param name="joints">6</param>
                <param name="deviceName">Head_Calibrator</param>
            </group>
            <group name="HOME">
                <param name="positionHome">0 0 0 0 0 0</param>
                <param name="velocityHome">10 10 10 10 10 10</param>
            </group>
            <!-- joint logical number               0           1           2           3           4           5           -->
            <!-- joint name                         neck-pitch  neck-roll   neck-yaw    eyes-tilt   eyes-vers   eyes-verg   -->
            <!-- j4 is right-eye, j5 is left-eye -->
            <group name="CALIBRATION">
                <param name="calibrationType">12 12 12 12 5 5</param>
                <param name="calibration1">2911.0 51647.0 22607 41583 3000 3000</param>
                <param name="calibration2">0 0 0 0 8192 8192</param>
                <param name="calibration3">0 0 0 0 0 0</param>
                <param name="calibration4">0 0 0 0 0 0</param>
                <param name="calibration5">0 0 0 0 0 0</param>
                <param name="calibrationZero">0.0 0.0 0.0 0.0 0 0</param>
                <param name="calibrationDelta">8.7 -0.9 10.8 -12.4 6.0 4.6</param>
                <param name="startupPosition">0.0 0.0 0.0 0.0 0.0 0.0</param>
                <param name="startupVelocity">10 10 20.0 20.0 20.0 20.0</param>
                <param name="startupMaxPwm">3000 3000 3000 3000 0 0</param>
                <param name="startupPosThreshold">90 90 2 2 2 2</param>
            </group>
            <param name="CALIB_ORDER">(0 1 2) (3) (4 5)</param>
            <action phase="startup" level="10" type="calibrate">
                <param name="target">head-mc_wrapper</param>
            </action>
            <action phase="interrupt1" level="1" type="park">
                <param name="target">head-mc_wrapper</param>
            </action>
            <action phase="interrupt3" level="1" type="abort" />
        </device>
        <!-- CARTESIANS -->
        <device name="left_arm_cartesian" type="cartesiancontrollerserver">
            <group name="GENERAL">
                <param name="ControllerName">icub/cartesianController/left_arm</param>
                <param name="ControllerPeriod">10</param>
                <param name="TaskRefVelPeriodFactor">4</param>
                <param name="SolverNameToConnect">cartesianSolver/left_arm</param>
                <param name="KinematicPart">arm</param>
                <param name="KinematicType">left_v2</param>
                <param name="PositionControl">on</param>
                <param name="NumberOfDrivers">2</param>
            </group>
            <group name="DRIVER_0">
                <param name="Key">torso</param>
                <param name="JointsOrder">reversed</param>
                <param name="MinAbsVels">(0.35 0.35 0.35)</param>
            </group>
            <group name="DRIVER_1">
                <param name="Key">left_arm</param>
                <param name="JointsOrder">direct</param>
                <param name="MinAbsVels">(0.35 0.35 0.35 0.35 0.35 0.35 0.35)</param>
            </group>
            <group name="PLANT_MODEL">
                <!-- P(s)=(Kp/s)*((1+Tz*s)/(1+2*Zeta*Tw*s+(Tw*s)^2))*exp(-Td*s) -->
                <param name="plant_compensator">on</param>
                <param name="smith_predictor">off</param>
                <param name="joint_0">((Kp 1.022) (Tz 0.405) (Tw 0.248) (Zeta 0.797) (Td 0.000))</param>
                <param name="joint_1">((Kp 1.026) (Tz 0.407) (Tw 0.243) (Zeta 0.822) (Td 0.000))</param>
                <param name="joint_2">((Kp 1.040) (Tz 0.344) (Tw 0.160) (Zeta 1.110) (Td 0.000))</param>
                <param name="joint_3">((Kp 1.035) (Tz 0.410) (Tw 0.178) (Zeta 1.198) (Td 0.000))</param>
                <param name="joint_4">((Kp 1.016) (Tz 0.384) (Tw 0.159) (Zeta 1.222) (Td 0.000))</param>
                <param name="joint_5">((Kp 1.025) (Tz 0.823) (Tw 0.405) (Zeta 1.030) (Td 0.000))</param>
                <param name="joint_6">((Kp 1.022) (Tz 0.300) (Tw 0.120) (Zeta 1.303) (Td 0.000))</param>
                <param name="joint_7">((Kp 1.016) (Tz 0.123) (Tw 0.030) (Zeta 2.204) (Td 0.000))</param>
                <param name="joint_8">((Kp 1.000) (Tz 0.000) (Tw 0.000) (Zeta 0.000) (Td 0.000))</param>
                <param name="joint_9">((Kp 1.000) (Tz 0.000) (Tw 0.000) (Zeta 0.000) (Td 0.000))</param>
            </group>
            <action phase="startup" level="15" type="attach">
                <paramlist name="networks">
                    <elem name="torso">torso-mc_wrapper</elem>
                    <elem name="left_arm">left_arm-mc_wrapper</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="2" type="detach" />
        </device>
        <device name="right_arm_cartesian" type="cartesiancontrollerserver">
            <group name="GENERAL">
                <param name="ControllerName">icub/cartesianController/right_arm</param>
                <param name="ControllerPeriod">10</param>
                <param name="TaskRefVelPeriodFactor">4</param>
                <param name="SolverNameToConnect">cartesianSolver/right_arm</param>
                <param name="KinematicPart">arm</param>
                <param name="KinematicType">right_v2</param>
                <param name="PositionControl">on</param>
                <param name="NumberOfDrivers">2</param>
            </group>
            <group name="DRIVER_0">
                <param name="Key">torso</param>
                <param name="JointsOrder">reversed</param>
                <param name="MinAbsVels">(0.35 0.35 0.35)</param>
            </group>
            <group name="DRIVER_1">
                <param name="Key">right_arm</param>
                <param name="JointsOrder">direct</param>
                <param name="MinAbsVels">(0.35 0.35 0.35 0.35 0.35 0.35 0.35)</param>
            </group>
            <group name="PLANT_MODEL">
                <!-- P(s)=(Kp/s)*((1+Tz*s)/(1+2*Zeta*Tw*s+(Tw*s)^2))*exp(-Td*s) -->
                <param name="plant_compensator">on</param>
                <param name="smith_predictor">off</param>
                <param name="joint_0">((Kp 1.022) (Tz 0.405) (Tw 0.248) (Zeta 0.797) (Td 0.000))</param>
                <param name="joint_1">((Kp 1.026) (Tz 0.407) (Tw 0.243) (Zeta 0.822) (Td 0.000))</param>
                <param name="joint_2">((Kp 1.040) (Tz 0.344) (Tw 0.160) (Zeta 1.110) (Td 0.000))</param>
                <param name="joint_3">((Kp 1.035) (Tz 0.410) (Tw 0.178) (Zeta 1.198) (Td 0.000))</param>
                <param name="joint_4">((Kp 1.016) (Tz 0.384) (Tw 0.159) (Zeta 1.222) (Td 0.000))</param>
                <param name="joint_5">((Kp 1.025) (Tz 0.823) (Tw 0.405) (Zeta 1.030) (Td 0.000))</param>
                <param name="joint_6">((Kp 1.022) (Tz 0.300) (Tw 0.120) (Zeta 1.303) (Td 0.000))</param>
                <param name="joint_7">((Kp 1.016) (Tz 0.123) (Tw 0.030) (Zeta 2.204) (Td 0.000))</param>
                <param name="joint_8">((Kp 1.000) (Tz 0.000) (Tw 0.000) (Zeta 0.000) (Td 0.000))</param>
                <param name="joint_9">((Kp 1.000) (Tz 0.000) (Tw 0.000) (Zeta 0.000) (Td 0.000))</param>
            </group>
            <action phase="startup" level="15" type="attach">
                <paramlist name="networks">
                    <elem name="torso">torso-mc_wrapper</elem>
                    <elem name="right_arm">right_arm-mc_wrapper</elem>
                </paramlist>
            </action>
            <action phase="shutdown" level="2" type="detach" />
        </device>
    </devices>
</robot>
